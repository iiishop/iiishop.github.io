const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-HeadMenu-0oN-As6F.js","assets/entry-index-BCWviSf7.js","assets/chunk-mermaid-lib-PTTmCi0X.js","assets/asset-index-DQTw5x8l.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-HeadMenu-CkMbeV35.css","assets/chunk-AnnouncementPanel-z44tuh3v.js","assets/asset-AnnouncementPanel-BYb_4ZRd.css","assets/chunk-ArchivePanel-gKyUOtB4.js","assets/chunk-index-D-nlVayj.js","assets/asset-ArchivePanel-DuOPV22X.css","assets/chunk-CalendarPanel-C0cnn_RC.js","assets/asset-CalendarPanel-BrzdHZSY.css","assets/chunk-CategoryPanel-CSL_bGcS.js","assets/asset-CategoryPanel-BaZf9JmQ.css","assets/chunk-ClockPanel-DSyrfPBT.js","assets/asset-ClockPanel-CWUKFMwA.css","assets/chunk-CollectionPanel-8j7-zgg4.js","assets/asset-CollectionPanel-0dIFG6VV.css","assets/chunk-CryptoUnlock-BC0BcP4L.js","assets/chunk-crypto-Bx4buzML.js","assets/asset-CryptoUnlock-B7SyQrD2.css","assets/chunk-GiscusComments-BPN8It4h.js","assets/asset-GiscusComments-DvA3k5-b.css","assets/chunk-MarkdownPanel-m4r_m9b2.js","assets/chunk-index-EUBHsC4_.js","assets/chunk-MarkdownRenender-PQRWQmix.js","assets/asset-MarkdownRenender-K9OW4vBv.css","assets/chunk-DynamicComponentRenderer-D-usNvgN.js","assets/asset-DynamicComponentRenderer-k1mBaN7h.css","assets/chunk-IconCategory-q8df7qOg.js","assets/chunk-IconDate-Ig2q5UQG.js","assets/asset-MarkdownPanel-Dycz_1yN.css","assets/chunk-PostPanel-GhCkvnxm.js","assets/asset-PostPanel-B1F_kvcV.css","assets/chunk-SelfIntroductionPanel-K4nxPZLI.js","assets/asset-SelfIntroductionPanel-B7Pd1hSk.css","assets/chunk-TOCPanel-C_1xV6Oz.js","assets/asset-TOCPanel-BuOZZEpp.css","assets/chunk-TagPanel-DGoOiToT.js","assets/asset-TagPanel-sV5NdjJy.css","assets/chunk-WaterfallPanel-DLCNJqVK.js","assets/asset-WaterfallPanel-CByYdZIf.css"])))=>i.map(i=>d[i]);
import{_ as d}from"./chunk-mermaid-lib-PTTmCi0X.js";import{R as h,r as k,i as oe,f as ue,z as ne,j as ce,b as i,o as t,e as n,q as p,a as Z,u as w,d as ve,h as g,x as v,S as y,F as a,m as r,l as V,w as le,G as ie,t as de,c as u,U as c}from"./entry-index-BCWviSf7.js";const fe=(_,$,C)=>{const m=_[$];return m?typeof m=="function"?m():Promise.resolve(m):new Promise((D,T)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(T.bind(null,new Error("Unknown variable dynamic import: "+$+($.split("/").length!==C?". Note that variables only represent file names one level deep.":""))))})},me={class:"Scene"},pe={class:"context"},ye={class:"float-list"},Le={class:"context"},he={class:"float-list"},_e={class:"context"},we={class:"float-list"},ke={class:"context"},ge={class:"float-list"},xe={key:0,class:"mobile-bottom-nav"},be={class:"drawer-header"},Ee={class:"drawer-content"},Re={__name:"BaseLayout",props:{showTipList:{type:Boolean,default:!0},showInfoList:{type:Boolean,default:!0}},setup(_){const $=ve(()=>d(()=>import("./chunk-HeadMenu-0oN-As6F.js"),__vite__mapDeps([0,1,2,3,4,5]))),C=_,m=g.ChangeInfoAndTipPosition,D=h([]),T=h([]),ee=h([]),te=h([]),M=h([]),B=h([]),S=h([]),W=h([]),b=h(!1),E=h(!1),F=h(null),O=h(null),f=k(!1),R=k(!1),L=k(""),se=oe(()=>L.value==="info"?"right":"left"),z=()=>{f.value=window.innerWidth<=968,f.value||(R.value=!1,L.value="")},H=s=>{L.value===s&&R.value?N():(L.value=s,R.value=!0,document.body.style.overflow="hidden")},N=()=>{R.value=!1,L.value="",document.body.style.overflow=""},x=async(s,l)=>{for(const e of s)try{const o=await fe(Object.assign({"../components/AnnouncementPanel.vue":()=>d(()=>import("./chunk-AnnouncementPanel-z44tuh3v.js"),__vite__mapDeps([6,1,2,3,4,7])),"../components/ArchivePanel.vue":()=>d(()=>import("./chunk-ArchivePanel-gKyUOtB4.js"),__vite__mapDeps([8,1,2,3,9,4,10])),"../components/CalendarPanel.vue":()=>d(()=>import("./chunk-CalendarPanel-C0cnn_RC.js"),__vite__mapDeps([11,1,2,3,4,12])),"../components/CategoryPanel.vue":()=>d(()=>import("./chunk-CategoryPanel-CSL_bGcS.js"),__vite__mapDeps([13,2,1,3,9,4,14])),"../components/ClockPanel.vue":()=>d(()=>import("./chunk-ClockPanel-DSyrfPBT.js"),__vite__mapDeps([15,1,2,3,9,4,16])),"../components/CollectionPanel.vue":()=>d(()=>import("./chunk-CollectionPanel-8j7-zgg4.js"),__vite__mapDeps([17,2,1,3,4,18])),"../components/CryptoUnlock.vue":()=>d(()=>import("./chunk-CryptoUnlock-BC0BcP4L.js"),__vite__mapDeps([19,1,2,3,20,4,21])),"../components/GiscusComments.vue":()=>d(()=>import("./chunk-GiscusComments-BPN8It4h.js"),__vite__mapDeps([22,1,2,3,4,23])),"../components/HeadMenu.vue":()=>d(()=>import("./chunk-HeadMenu-0oN-As6F.js"),__vite__mapDeps([0,1,2,3,4,5])),"../components/MarkdownPanel.vue":()=>d(()=>import("./chunk-MarkdownPanel-m4r_m9b2.js"),__vite__mapDeps([24,2,1,3,25,26,27,28,29,30,4,31,22,23,32])),"../components/PostPanel.vue":()=>d(()=>import("./chunk-PostPanel-GhCkvnxm.js"),__vite__mapDeps([33,2,1,3,9,4,34])),"../components/SelfIntroductionPanel.vue":()=>d(()=>import("./chunk-SelfIntroductionPanel-K4nxPZLI.js"),__vite__mapDeps([35,1,2,3,9,4,36])),"../components/TOCPanel.vue":()=>d(()=>import("./chunk-TOCPanel-C_1xV6Oz.js"),__vite__mapDeps([37,1,2,3,4,38])),"../components/TagPanel.vue":()=>d(()=>import("./chunk-TagPanel-DGoOiToT.js"),__vite__mapDeps([39,2,9,1,3,4,40])),"../components/WaterfallPanel.vue":()=>d(()=>import("./chunk-WaterfallPanel-DLCNJqVK.js"),__vite__mapDeps([41,1,2,3,9,4,25,42]))}),`../components/${e}.vue`,3);l.value.push(o.default)}catch(o){console.error(`Failed to load component: ${e}`,o)}},U=()=>{b.value=!b.value},q=()=>{E.value=!E.value},P=k(!1),I=k(!1),j=k(0),G=k(0),J=k(0),K=k(0),A=()=>{if(f.value)return;const l=(parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||96)+32;if(F.value){const e=F.value.querySelector(".context"),o=F.value.querySelector(".FloatList");if(e&&o){const X=e.getBoundingClientRect().bottom,Y=o.getBoundingClientRect();X<=l?(P.value=!0,j.value=l,J.value=Y.left):P.value=!1}}if(O.value){const e=O.value.querySelector(".context"),o=O.value.querySelector(".FloatList");if(e&&o){const X=e.getBoundingClientRect().bottom,Y=o.getBoundingClientRect();X<=l?(I.value=!0,G.value=l,K.value=Y.left):I.value=!1}}},ae=oe(()=>{if(f.value)return{minWidth:"calc(100% - 2rem)",maxWidth:"calc(100% - 2rem)",margin:"0 1rem"};const s="var(--sidebar-width)",l="4rem",e=C.showTipList&&!b.value,o=C.showInfoList&&!E.value;return!C.showTipList&&!C.showInfoList?{minWidth:"calc(100% - 4rem)",maxWidth:"calc(100% - 4rem)",margin:"0 2rem"}:!e&&!o?{minWidth:"calc(100% - 4rem)",maxWidth:"calc(100% - 4rem)",margin:"0 2rem"}:e&&!o?{minWidth:`calc(100% - ${s} - ${l} - 2rem)`,maxWidth:`calc(100% - ${s} - ${l} - 2rem)`,marginRight:"2rem"}:!e&&o?{minWidth:`calc(100% - ${s} - ${l} - 2rem)`,maxWidth:`calc(100% - ${s} - ${l} - 2rem)`,marginLeft:"2rem"}:{minWidth:`calc(100% - ${s} * 2 - ${l} * 2)`,maxWidth:`calc(100% - ${s} * 2 - ${l} * 2)`}}),Q=()=>{const s=document.querySelector(".header-menu");if(s){const l=s.offsetHeight;document.documentElement.style.setProperty("--header-height",`${l+16}px`)}};return ue(async()=>{ne.currentTheme.value||ne.initializeTheme(),await x(g.TipListUp,D),await x(g.TipListDown,T),await x(g.MainListUp,ee),await x(g.MainListDown,te),await x(g.InfoListUp,M),await x(g.InfoListDown,B),await x(g.InfoListFloat,S),await x(g.TipListFloat,W),z(),Q(),q(),q(),U(),U(),A(),window.addEventListener("scroll",A),window.addEventListener("resize",()=>{z(),Q(),A()});const s=new ResizeObserver(()=>{Q(),A()}),l=document.querySelector(".header-menu");l&&s.observe(l)}),ce(()=>{window.removeEventListener("scroll",A),window.removeEventListener("resize",z),document.body.style.overflow=""}),(s,l)=>(t(),i(a,null,[n("div",null,[Z(w($)),n("div",me,[_.showTipList&&!w(m)&&!f.value?(t(),i("button",{key:0,class:v(["toggle-btn","right-btn",{hidden:b.value}]),onClick:U},"→",2)):p("",!0),_.showTipList&&!w(m)&&!f.value?(t(),i("div",{key:1,class:v(["TipList","LeftList",{hidden:b.value}]),ref_key:"tipListRef",ref:O},[n("div",pe,[(t(!0),i(a,null,r(D.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"tip"),(t(!0),i(a,null,r(T.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:v(["FloatList",{"float-fixed":I.value}]),style:V(I.value?{top:G.value+"px",left:K.value+"px"}:{})},[n("div",ye,[(t(!0),i(a,null,r(W.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-tip")])],6)],2)):p("",!0),_.showInfoList&&w(m)&&!f.value?(t(),i("button",{key:2,class:v(["toggle-btn","right-btn",{hidden:E.value}]),onClick:q},"→",2)):p("",!0),_.showInfoList&&w(m)&&!f.value?(t(),i("div",{key:3,class:v(["InfoList","LeftList",{hidden:E.value}]),ref_key:"infoListRef",ref:F},[n("div",Le,[(t(!0),i(a,null,r(M.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"info"),(t(!0),i(a,null,r(B.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:v(["FloatList",{"float-fixed":P.value}]),style:V(P.value?{top:j.value+"px",left:J.value+"px"}:{})},[n("div",he,[(t(!0),i(a,null,r(S.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-info")])],6)],2)):p("",!0),n("div",{class:"MainList",style:V(ae.value)},[(t(!0),i(a,null,r(ee.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"main"),(t(!0),i(a,null,r(te.value,(e,o)=>(t(),u(c(e),{key:o}))),128))],4),_.showInfoList&&!w(m)&&!f.value?(t(),i("button",{key:4,class:v(["toggle-btn","left-btn",{hidden:E.value}]),onClick:q},"→",2)):p("",!0),_.showInfoList&&!w(m)&&!f.value?(t(),i("div",{key:5,class:v(["InfoList","RightList",{hidden:E.value}]),ref_key:"infoListRef",ref:F},[n("div",_e,[(t(!0),i(a,null,r(M.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"info"),(t(!0),i(a,null,r(B.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:v(["FloatList",{"float-fixed":P.value}]),style:V(P.value?{top:j.value+"px",left:J.value+"px"}:{})},[n("div",we,[(t(!0),i(a,null,r(S.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-info")])],6)],2)):p("",!0),_.showTipList&&w(m)&&!f.value?(t(),i("button",{key:6,class:v(["toggle-btn","left-btn",{hidden:b.value}]),onClick:U},"→",2)):p("",!0),_.showTipList&&w(m)&&!f.value?(t(),i("div",{key:7,class:v(["TipList","RightList",{hidden:b.value}]),ref_key:"tipListRef",ref:O},[n("div",ke,[(t(!0),i(a,null,r(D.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"tip"),(t(!0),i(a,null,r(T.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:v(["FloatList",{"float-fixed":I.value}]),style:V(I.value?{top:G.value+"px",left:K.value+"px"}:{})},[n("div",ge,[(t(!0),i(a,null,r(W.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-tip")])],6)],2)):p("",!0)])]),f.value?(t(),i("div",xe,[w(m)?(t(),i(a,{key:1},[n("button",{class:v(["nav-item",{active:L.value==="info"}]),onClick:l[2]||(l[2]=e=>H("info"))},l[6]||(l[6]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2),n("button",{class:v(["nav-item",{active:L.value==="tip"}]),onClick:l[3]||(l[3]=e=>H("tip"))},l[7]||(l[7]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2)],64)):(t(),i(a,{key:0},[n("button",{class:v(["nav-item",{active:L.value==="tip"}]),onClick:l[0]||(l[0]=e=>H("tip"))},l[4]||(l[4]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2),n("button",{class:v(["nav-item",{active:L.value==="info"}]),onClick:l[1]||(l[1]=e=>H("info"))},l[5]||(l[5]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2)],64))])):p("",!0),Z(ie,{name:"drawer-backdrop"},{default:le(()=>[f.value&&R.value?(t(),i("div",{key:0,class:"drawer-backdrop",onClick:N})):p("",!0)]),_:1}),Z(ie,{name:"drawer"},{default:le(()=>[f.value&&R.value?(t(),i("div",{key:0,class:v(["mobile-drawer",se.value])},[n("div",be,[n("h3",null,de(L.value==="info"?"信息面板":"导航面板"),1),n("button",{class:"close-btn",onClick:N},l[8]||(l[8]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),n("div",Ee,[L.value==="info"?(t(),i(a,{key:0},[(t(!0),i(a,null,r(M.value,(e,o)=>(t(),u(c(e),{key:"info-up-"+o}))),128)),y(s.$slots,"info"),(t(!0),i(a,null,r(B.value,(e,o)=>(t(),u(c(e),{key:"info-down-"+o}))),128)),(t(!0),i(a,null,r(S.value,(e,o)=>(t(),u(c(e),{key:"info-float-"+o}))),128)),y(s.$slots,"float-info")],64)):p("",!0),L.value==="tip"?(t(),i(a,{key:1},[(t(!0),i(a,null,r(D.value,(e,o)=>(t(),u(c(e),{key:"tip-up-"+o}))),128)),y(s.$slots,"tip"),(t(!0),i(a,null,r(T.value,(e,o)=>(t(),u(c(e),{key:"tip-down-"+o}))),128)),(t(!0),i(a,null,r(W.value,(e,o)=>(t(),u(c(e),{key:"tip-float-"+o}))),128)),y(s.$slots,"float-tip")],64)):p("",!0)])],2)):p("",!0)]),_:3})],64))}};export{Re as default};
