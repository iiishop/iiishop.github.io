const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Tag-OMX1zS2M.js","assets/index-MCLTv8Kv.js","assets/index-BM8LJ_BZ.css","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/Tag-C0RPMPKw.css","assets/IconCategory-DaUm1LJJ.js","assets/IconDate-DWc64YDD.js"])))=>i.map(i=>d[i]);
import{r as p,i as h,f as N,p as b,k as B,b as c,o as l,v as d,e as o,u,z as O,t as m,a as g,d as f,w as I,m as U,F as S,l as j,c as H,g as K,K as $,_ as k}from"./index-MCLTv8Kv.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v="/assets/loading-4bFnOtMK.gif",q={class:"post-panel"},J=["src"],Q={class:"content-panel"},X={key:0,class:"content-wrapper"},Y={class:"main-content-area"},Z={class:"meta-sidebar"},ee={class:"meta-list"},te={key:0,class:"meta-item category-row"},ae={key:1,class:"meta-item date-row"},oe={class:"tags-container"},se={__name:"Post",props:{imageUrl:String,markdownUrl:String},setup(L){const R=f(()=>k(()=>import("./Tag-OMX1zS2M.js"),__vite__mapDeps([0,1,2,3,4]))),C=f(()=>k(()=>import("./IconCategory-DaUm1LJJ.js"),__vite__mapDeps([5,3,1,2]))),E=f(()=>k(()=>import("./IconDate-DWc64YDD.js"),__vite__mapDeps([6,3,1,2]))),r=L,s=p(r.imageUrl||v),t=p({}),w=p("auto"),x=e=>{const a=e.target,n=a.naturalWidth,i=a.naturalHeight,_=n/i,F=Math.min(30,_*13);w.value=`${F}rem`};async function T(e){console.log("Initializing markdown with URL:",e);try{const n=(await K.get(e.startsWith("http")?e:new URL(e,import.meta.url).href)).data,{meta:i}=await $(n);t.value=i,t.value.date&&(t.value.date=W(t.value.date)),console.log("Metadata:",t.value)}catch(a){console.error("Failed to fetch markdown content:",a)}}function W(e){return/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(e)?e.split(" ")[0]:e}function M(e){if(console.log("Initializing image with URL:",e),e)if(e.startsWith("http")||e.startsWith("/")){s.value=v;const a=new Image;a.src=e,a.onload=()=>{s.value=e},a.onerror=()=>{console.error("Failed to load image:",e),s.value=""}}else s.value=new URL(e,import.meta.url).href;else s.value="";console.log("Image source set to:",s.value)}function V(){s.value=v}const y=h(()=>t.value.categories&&t.value.categories.length>0?t.value.categories[t.value.categories.length-1]:""),z=h(()=>t.value.categories&&t.value.categories.length>0?{name:"CategoryPage",params:{fullPath:t.value.categories.join("/")}}:"#"),D=h(()=>({name:"ArchivePage"}));N(()=>{console.log("Component mounted"),r.imageUrl&&M(r.imageUrl),r.markdownUrl&&T(r.markdownUrl)});const A=b();function P(){const e=r.markdownUrl.split("/").filter(i=>i),a=e[e.length-1].replace(".md",""),n=e.length>2?e[1]:null;A.push({name:"PostPage",params:{collection:n,mdName:a}})}return(e,a)=>{const n=B("router-link");return l(),c("div",q,[s.value&&s.value!==u(v)?(l(),c("div",{key:0,class:"image-panel",style:O({width:w.value})},[o("img",{src:s.value,alt:"Image",onLoad:x,onError:V},null,40,J)],4)):d("",!0),o("div",Q,[t.value?(l(),c("div",X,[o("div",Y,[o("div",{class:"title-panel",onClick:P},[o("p",null,m(t.value.title),1)]),o("div",{class:"pre-panel",onClick:P},[o("pre",null,m(t.value.pre),1)])]),o("div",Z,[o("div",ee,[y.value?(l(),c("div",te,[g(u(C),{class:"meta-icon"}),g(n,{to:z.value,class:"meta-link"},{default:I(()=>[U(m(y.value),1)]),_:1},8,["to"])])):d("",!0),t.value.date?(l(),c("div",ae,[g(u(E),{class:"meta-icon"}),g(n,{to:D.value,class:"meta-link"},{default:I(()=>[U(m(t.value.date),1)]),_:1},8,["to"])])):d("",!0)]),a[0]||(a[0]=o("div",{class:"props-divider"},null,-1)),o("div",oe,[(l(!0),c(S,null,j(t.value.tags,(i,_)=>(l(),H(u(R),{key:_,tagname:i},null,8,["tagname"]))),128))])])])):d("",!0)])])}}},le=G(se,[["__scopeId","data-v-c6b11316"]]);export{le as default};
