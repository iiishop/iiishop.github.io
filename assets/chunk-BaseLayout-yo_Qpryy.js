const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-HeadMenu-T-3n9wsS.js","assets/entry-index-D8c4lH7g.js","assets/chunk-mermaid-lib--N4Maba6.js","assets/asset-index-whA3utIM.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-HeadMenu-D1skhvtb.css","assets/chunk-AnnouncementPanel-CGkZ8V6r.js","assets/asset-AnnouncementPanel-BYb_4ZRd.css","assets/chunk-ArchivePanel-CWLmpor0.js","assets/chunk-index-D-nlVayj.js","assets/asset-ArchivePanel-DuOPV22X.css","assets/chunk-CalendarPanel-W87NW4qA.js","assets/asset-CalendarPanel-BrzdHZSY.css","assets/chunk-CategoryPanel-B0PGChbD.js","assets/asset-CategoryPanel-BaZf9JmQ.css","assets/chunk-ClockPanel-sAjTBms3.js","assets/asset-ClockPanel-CWUKFMwA.css","assets/chunk-CollectionPanel-DNNgL4Ua.js","assets/asset-CollectionPanel-BKK-UhkU.css","assets/chunk-CryptoUnlock-Cgo1H9Gk.js","assets/chunk-crypto-Bx4buzML.js","assets/asset-CryptoUnlock-B7SyQrD2.css","assets/chunk-HeroSection-Bp8bBHWq.js","assets/asset-HeroSection-CwNBq4yw.css","assets/chunk-ImageViewer-DJrmNvYb.js","assets/asset-ImageViewer-C0S8naOY.css","assets/chunk-MarkdownPanel-C56fzbG5.js","assets/chunk-index-NHvVYUgd.js","assets/chunk-MarkdownRenender-CYXJ7tNL.js","assets/asset-MarkdownRenender-K9OW4vBv.css","assets/chunk-DynamicComponentRenderer-Db7kQm2w.js","assets/asset-DynamicComponentRenderer-CHIJsviu.css","assets/chunk-IconCategory-DdHYjmAG.js","assets/chunk-IconDate-C_bF4FIs.js","assets/chunk-UtterancesComments-AThzYdu-.js","assets/asset-UtterancesComments-CxXa2y_h.css","assets/asset-MarkdownPanel-BGWbQx46.css","assets/chunk-PostPanel-Ctrgu85u.js","assets/asset-PostPanel-7e7NkFNg.css","assets/chunk-SelfIntroductionPanel-CAvCR48W.js","assets/asset-SelfIntroductionPanel-B7Pd1hSk.css","assets/chunk-TOCPanel-4VdCFoI6.js","assets/asset-TOCPanel-BuOZZEpp.css","assets/chunk-TagPanel-Bsn5yH5b.js","assets/asset-TagPanel-sV5NdjJy.css","assets/chunk-WaterfallPanel-DoE47T7h.js","assets/asset-WaterfallPanel-CByYdZIf.css"])))=>i.map(i=>d[i]);
import{_ as d}from"./chunk-mermaid-lib--N4Maba6.js";import{h as g,Q as L,r as _,R as me,i as N,f as pe,s as re,j as he,b as i,o as t,e as n,l as h,a as ne,u as k,d as ye,y as f,S as y,F as a,k as r,c as u,U as c,m as A,w as ue,T as ce,t as Le}from"./entry-index-D8c4lH7g.js";const we=(w,$,E)=>{const v=w[$];return v?typeof v=="function"?v():Promise.resolve(v):new Promise((D,P)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(P.bind(null,new Error("Unknown variable dynamic import: "+$+($.split("/").length!==E?". Note that variables only represent file names one level deep.":""))))})},_e={class:"Scene"},ke={class:"context"},ge={class:"float-list"},Ee={class:"context"},be={class:"float-list"},Te={class:"context"},xe={class:"float-list"},Pe={class:"context"},Re={class:"float-list"},Ce={key:0,class:"mobile-bottom-nav"},Ie={class:"drawer-header"},$e={class:"drawer-content"},Oe={__name:"BaseLayout",props:{showTipList:{type:Boolean,default:!0},showInfoList:{type:Boolean,default:!0}},setup(w){const $=ye(()=>d(()=>import("./chunk-HeadMenu-T-3n9wsS.js"),__vite__mapDeps([0,1,2,3,4,5]))),E=w,v=g.ChangeInfoAndTipPosition,D=L([]),P=L([]),le=L([]),ie=L([]),S=L([]),B=L([]),M=L([]),H=L([]),b=L(!1),T=L(!1),F=L(null),O=L(null),m=_(!1),R=_(!1),p=_(""),j=_(!1),se=me(),ae=N(()=>se.name==="HomePage"||se.path==="/"),W=N(()=>ae.value?j.value:!0),ve=N(()=>v?p.value==="info"?"left":"right":p.value==="info"?"right":"left"),Q=()=>{m.value=window.innerWidth<=968,m.value||(R.value=!1,p.value="")},Y=()=>{if(!ae.value){j.value=!0;return}const s=window.innerHeight;j.value=window.scrollY>s*.3},U=s=>{p.value===s&&R.value?G():(p.value=s,R.value=!0,document.body.style.overflow="hidden")},G=()=>{R.value=!1,p.value="",document.body.style.overflow=""},x=async(s,l)=>{for(const e of s)try{const o=await we(Object.assign({"../components/AnnouncementPanel.vue":()=>d(()=>import("./chunk-AnnouncementPanel-CGkZ8V6r.js"),__vite__mapDeps([6,1,2,3,4,7])),"../components/ArchivePanel.vue":()=>d(()=>import("./chunk-ArchivePanel-CWLmpor0.js"),__vite__mapDeps([8,1,2,3,9,4,10])),"../components/CalendarPanel.vue":()=>d(()=>import("./chunk-CalendarPanel-W87NW4qA.js"),__vite__mapDeps([11,1,2,3,4,12])),"../components/CategoryPanel.vue":()=>d(()=>import("./chunk-CategoryPanel-B0PGChbD.js"),__vite__mapDeps([13,2,1,3,9,4,14])),"../components/ClockPanel.vue":()=>d(()=>import("./chunk-ClockPanel-sAjTBms3.js"),__vite__mapDeps([15,1,2,3,9,4,16])),"../components/CollectionPanel.vue":()=>d(()=>import("./chunk-CollectionPanel-DNNgL4Ua.js"),__vite__mapDeps([17,2,1,3,4,18])),"../components/CryptoUnlock.vue":()=>d(()=>import("./chunk-CryptoUnlock-Cgo1H9Gk.js"),__vite__mapDeps([19,1,2,3,20,4,21])),"../components/HeadMenu.vue":()=>d(()=>import("./chunk-HeadMenu-T-3n9wsS.js"),__vite__mapDeps([0,1,2,3,4,5])),"../components/HeroSection.vue":()=>d(()=>import("./chunk-HeroSection-Bp8bBHWq.js"),__vite__mapDeps([22,1,2,3,4,23])),"../components/ImageViewer.vue":()=>d(()=>import("./chunk-ImageViewer-DJrmNvYb.js"),__vite__mapDeps([24,1,2,3,4,25])),"../components/MarkdownPanel.vue":()=>d(()=>import("./chunk-MarkdownPanel-C56fzbG5.js"),__vite__mapDeps([26,2,1,3,27,28,29,30,31,32,4,33,24,25,34,35,36])),"../components/PostPanel.vue":()=>d(()=>import("./chunk-PostPanel-Ctrgu85u.js"),__vite__mapDeps([37,2,1,3,9,4,38])),"../components/SelfIntroductionPanel.vue":()=>d(()=>import("./chunk-SelfIntroductionPanel-CAvCR48W.js"),__vite__mapDeps([39,1,2,3,9,4,40])),"../components/TOCPanel.vue":()=>d(()=>import("./chunk-TOCPanel-4VdCFoI6.js"),__vite__mapDeps([41,1,2,3,4,42])),"../components/TagPanel.vue":()=>d(()=>import("./chunk-TagPanel-Bsn5yH5b.js"),__vite__mapDeps([43,2,9,1,3,4,44])),"../components/UtterancesComments.vue":()=>d(()=>import("./chunk-UtterancesComments-AThzYdu-.js"),__vite__mapDeps([34,1,2,3,4,35])),"../components/WaterfallPanel.vue":()=>d(()=>import("./chunk-WaterfallPanel-DoE47T7h.js"),__vite__mapDeps([45,1,2,3,9,4,27,46]))}),`../components/${e}.vue`,3);l.value.push(o.default)}catch(o){console.error(`Failed to load component: ${e}`,o)}},q=()=>{b.value=!b.value},z=()=>{T.value=!T.value},C=_(!1),I=_(!1),J=_(0),K=_(0),X=_(0),Z=_(0),V=()=>{if(m.value)return;const l=(parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||96)+32;if(F.value){const e=F.value.querySelector(".context"),o=F.value.querySelector(".FloatList");if(e&&o){const te=e.getBoundingClientRect().bottom,oe=o.getBoundingClientRect();te<=l?(C.value=!0,J.value=l,X.value=oe.left):C.value=!1}}if(O.value){const e=O.value.querySelector(".context"),o=O.value.querySelector(".FloatList");if(e&&o){const te=e.getBoundingClientRect().bottom,oe=o.getBoundingClientRect();te<=l?(I.value=!0,K.value=l,Z.value=oe.left):I.value=!1}}},de=N(()=>{if(m.value)return{minWidth:"calc(100% - 2rem)",maxWidth:"calc(100% - 2rem)",margin:"0 1rem"};const s="var(--sidebar-width)",l="4rem",e=v&&E.showInfoList&&!T.value||!v&&E.showTipList&&!b.value,o=v&&E.showTipList&&!b.value||!v&&E.showInfoList&&!T.value;return!E.showTipList&&!E.showInfoList?{minWidth:"calc(100% - 4rem)",maxWidth:"calc(100% - 4rem)",margin:"0 2rem"}:!e&&!o?{minWidth:"calc(100% - 4rem)",maxWidth:"calc(100% - 4rem)",margin:"0 2rem"}:e&&!o?{minWidth:`calc(100% - ${s} - ${l} - 2rem)`,maxWidth:`calc(100% - ${s} - ${l} - 2rem)`,marginRight:"2rem"}:!e&&o?{minWidth:`calc(100% - ${s} - ${l} - 2rem)`,maxWidth:`calc(100% - ${s} - ${l} - 2rem)`,marginLeft:"2rem"}:{minWidth:`calc(100% - ${s} * 2 - ${l} * 2)`,maxWidth:`calc(100% - ${s} * 2 - ${l} * 2)`}}),ee=()=>{const s=document.querySelector(".header-menu");if(s){const l=s.offsetHeight;document.documentElement.style.setProperty("--header-height",`${l+16}px`)}};return pe(async()=>{re.currentTheme.value||re.initializeTheme(),await x(g.TipListUp,D),await x(g.TipListDown,P),await x(g.MainListUp,le),await x(g.MainListDown,ie),await x(g.InfoListUp,S),await x(g.InfoListDown,B),await x(g.InfoListFloat,M),await x(g.TipListFloat,H),Q(),ee(),Y(),z(),z(),q(),q(),V(),window.addEventListener("scroll",V),window.addEventListener("scroll",Y),window.addEventListener("resize",()=>{Q(),ee(),V()});const s=new ResizeObserver(()=>{ee(),V()}),l=document.querySelector(".header-menu");l&&s.observe(l)}),he(()=>{window.removeEventListener("scroll",V),window.removeEventListener("scroll",Y),window.removeEventListener("resize",Q),document.body.style.overflow=""}),(s,l)=>(t(),i(a,null,[n("div",null,[l[4]||(l[4]=n("div",{class:"baselayout-background-overlay"},null,-1)),ne(k($)),n("div",_e,[w.showTipList&&!k(v)&&!m.value&&W.value?(t(),i("button",{key:0,class:f(["toggle-btn","right-btn",{hidden:b.value}]),onClick:q},"→",2)):h("",!0),w.showTipList&&!k(v)&&!m.value?(t(),i("div",{key:1,class:f(["TipList","LeftList",{hidden:b.value}]),ref_key:"tipListRef",ref:O},[n("div",ke,[(t(!0),i(a,null,r(D.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"tip"),(t(!0),i(a,null,r(P.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:f(["FloatList",{"float-fixed":I.value}]),style:A(I.value?{top:K.value+"px",left:Z.value+"px"}:{})},[n("div",ge,[(t(!0),i(a,null,r(H.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-tip")])],6)],2)):h("",!0),w.showInfoList&&k(v)&&!m.value&&W.value?(t(),i("button",{key:2,class:f(["toggle-btn","right-btn",{hidden:T.value}]),onClick:z},"→",2)):h("",!0),w.showInfoList&&k(v)&&!m.value?(t(),i("div",{key:3,class:f(["InfoList","LeftList",{hidden:T.value}]),ref_key:"infoListRef",ref:F},[n("div",Ee,[(t(!0),i(a,null,r(S.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"info"),(t(!0),i(a,null,r(B.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:f(["FloatList",{"float-fixed":C.value}]),style:A(C.value?{top:J.value+"px",left:X.value+"px"}:{})},[n("div",be,[(t(!0),i(a,null,r(M.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-info")])],6)],2)):h("",!0),n("div",{class:"MainList",style:A(de.value)},[(t(!0),i(a,null,r(le.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"main"),(t(!0),i(a,null,r(ie.value,(e,o)=>(t(),u(c(e),{key:o}))),128))],4),w.showInfoList&&!k(v)&&!m.value&&W.value?(t(),i("button",{key:4,class:f(["toggle-btn","left-btn",{hidden:T.value}]),onClick:z},"→",2)):h("",!0),w.showInfoList&&!k(v)&&!m.value?(t(),i("div",{key:5,class:f(["InfoList","RightList",{hidden:T.value}]),ref_key:"infoListRef",ref:F},[n("div",Te,[(t(!0),i(a,null,r(S.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"info"),(t(!0),i(a,null,r(B.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:f(["FloatList",{"float-fixed":C.value}]),style:A(C.value?{top:J.value+"px",left:X.value+"px"}:{})},[n("div",xe,[(t(!0),i(a,null,r(M.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-info")])],6)],2)):h("",!0),w.showTipList&&k(v)&&!m.value&&W.value?(t(),i("button",{key:6,class:f(["toggle-btn","left-btn",{hidden:b.value}]),onClick:q},"→",2)):h("",!0),w.showTipList&&k(v)&&!m.value?(t(),i("div",{key:7,class:f(["TipList","RightList",{hidden:b.value}]),ref_key:"tipListRef",ref:O},[n("div",Pe,[(t(!0),i(a,null,r(D.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"tip"),(t(!0),i(a,null,r(P.value,(e,o)=>(t(),u(c(e),{key:o}))),128))]),n("div",{class:f(["FloatList",{"float-fixed":I.value}]),style:A(I.value?{top:K.value+"px",left:Z.value+"px"}:{})},[n("div",Re,[(t(!0),i(a,null,r(H.value,(e,o)=>(t(),u(c(e),{key:o}))),128)),y(s.$slots,"float-tip")])],6)],2)):h("",!0)])]),m.value?(t(),i("div",Ce,[k(v)?(t(),i(a,{key:1},[n("button",{class:f(["nav-item",{active:p.value==="info"}]),onClick:l[2]||(l[2]=e=>U("info"))},l[7]||(l[7]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2),n("button",{class:f(["nav-item",{active:p.value==="tip"}]),onClick:l[3]||(l[3]=e=>U("tip"))},l[8]||(l[8]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2)],64)):(t(),i(a,{key:0},[n("button",{class:f(["nav-item",{active:p.value==="tip"}]),onClick:l[0]||(l[0]=e=>U("tip"))},l[5]||(l[5]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2),n("button",{class:f(["nav-item",{active:p.value==="info"}]),onClick:l[1]||(l[1]=e=>U("info"))},l[6]||(l[6]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2)],64))])):h("",!0),ne(ce,{name:"drawer-backdrop"},{default:ue(()=>[m.value&&R.value?(t(),i("div",{key:0,class:"drawer-backdrop",onClick:G})):h("",!0)]),_:1}),ne(ce,{name:"drawer"},{default:ue(()=>[m.value&&R.value?(t(),i("div",{key:0,class:f(["mobile-drawer",ve.value])},[n("div",Ie,[n("h3",null,Le(p.value==="info"?"信息面板":"导航面板"),1),n("button",{class:"close-btn",onClick:G},l[9]||(l[9]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),n("div",$e,[p.value==="info"?(t(),i(a,{key:0},[(t(!0),i(a,null,r(S.value,(e,o)=>(t(),u(c(e),{key:"info-up-"+o}))),128)),y(s.$slots,"info"),(t(!0),i(a,null,r(B.value,(e,o)=>(t(),u(c(e),{key:"info-down-"+o}))),128)),(t(!0),i(a,null,r(M.value,(e,o)=>(t(),u(c(e),{key:"info-float-"+o}))),128)),y(s.$slots,"float-info")],64)):h("",!0),p.value==="tip"?(t(),i(a,{key:1},[(t(!0),i(a,null,r(D.value,(e,o)=>(t(),u(c(e),{key:"tip-up-"+o}))),128)),y(s.$slots,"tip"),(t(!0),i(a,null,r(P.value,(e,o)=>(t(),u(c(e),{key:"tip-down-"+o}))),128)),(t(!0),i(a,null,r(H.value,(e,o)=>(t(),u(c(e),{key:"tip-float-"+o}))),128)),y(s.$slots,"float-tip")],64)):h("",!0)])],2)):h("",!0)]),_:3})],64))}};export{Oe as default};
