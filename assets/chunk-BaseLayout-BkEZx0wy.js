const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-HeadMenu-ByMUCLLY.js","assets/entry-index-Bg11hsaB.js","assets/chunk-mermaid-lib-PTTmCi0X.js","assets/asset-index-DQTw5x8l.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-HeadMenu-CkMbeV35.css","assets/chunk-AnnouncementPanel-CG82XFGu.js","assets/asset-AnnouncementPanel-BYb_4ZRd.css","assets/chunk-ArchivePanel-D83Stb7n.js","assets/chunk-index-D-nlVayj.js","assets/asset-ArchivePanel-DuOPV22X.css","assets/chunk-CalendarPanel-pcRExGeF.js","assets/asset-CalendarPanel-BrzdHZSY.css","assets/chunk-CategoryPanel-BEKQ-qri.js","assets/asset-CategoryPanel-BaZf9JmQ.css","assets/chunk-ClockPanel-CoS-OJHz.js","assets/asset-ClockPanel-CWUKFMwA.css","assets/chunk-CollectionPanel-CRz5RAlT.js","assets/asset-CollectionPanel-0dIFG6VV.css","assets/chunk-CryptoUnlock-DWtgeSFV.js","assets/chunk-crypto-Bx4buzML.js","assets/asset-CryptoUnlock-B7SyQrD2.css","assets/chunk-GiscusComments-CGXoxLRx.js","assets/asset-GiscusComments-DvA3k5-b.css","assets/chunk-MarkdownPanel-CokiNd6j.js","assets/chunk-index-EUBHsC4_.js","assets/chunk-MarkdownRenender-PQRWQmix.js","assets/asset-MarkdownRenender-K9OW4vBv.css","assets/chunk-DynamicComponentRenderer-BkjWbWio.js","assets/asset-DynamicComponentRenderer-k1mBaN7h.css","assets/chunk-IconCategory-qOzigKHM.js","assets/chunk-IconDate-D2BOGdyc.js","assets/asset-MarkdownPanel-Cqad8ODQ.css","assets/chunk-PostPanel-BFduWWHQ.js","assets/asset-PostPanel-B1F_kvcV.css","assets/chunk-SelfIntroductionPanel-CcuND6Ny.js","assets/asset-SelfIntroductionPanel-B7Pd1hSk.css","assets/chunk-TOCPanel-B9980leW.js","assets/asset-TOCPanel-BuOZZEpp.css","assets/chunk-TagPanel-DoNo1QxD.js","assets/asset-TagPanel-sV5NdjJy.css","assets/chunk-WaterfallPanel-DIQF99us.js","assets/asset-WaterfallPanel-CByYdZIf.css"])))=>i.map(i=>d[i]);
import{_ as d}from"./chunk-mermaid-lib-PTTmCi0X.js";import{R as h,r as E,i as oe,f as ue,z as ne,j as ve,b as l,o as e,e as n,q as p,a as Z,u as _,d as ce,h as C,x as c,S as y,F as s,m as r,l as $,w as le,G as ie,t as de,c as u,U as v}from"./entry-index-Bg11hsaB.js";const fe=(w,D,T)=>{const m=w[D];return m?typeof m=="function"?m():Promise.resolve(m):new Promise((F,b)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(b.bind(null,new Error("Unknown variable dynamic import: "+D+(D.split("/").length!==T?". Note that variables only represent file names one level deep.":""))))})},me={class:"Scene"},pe={class:"context"},ye={class:"float-list"},Le={class:"context"},he={class:"float-list"},we={class:"context"},_e={class:"float-list"},ke={class:"context"},ge={class:"float-list"},Ee={key:0,class:"mobile-bottom-nav"},Ce={class:"drawer-header"},Te={class:"drawer-content"},Re={__name:"BaseLayout",props:{showTipList:{type:Boolean,default:!0},showInfoList:{type:Boolean,default:!0}},setup(w){const D=ce(()=>d(()=>import("./chunk-HeadMenu-ByMUCLLY.js"),__vite__mapDeps([0,1,2,3,4,5]))),T=w,m=C.ChangeInfoAndTipPosition,F=h([]),b=h([]),ee=h([]),te=h([]),B=h([]),M=h([]),S=h([]),W=h([]),k=h(!1),g=h(!1),O=h(null),A=h(null),f=E(!1),R=E(!1),L=E(""),se=oe(()=>L.value==="info"?"right":"left"),z=()=>{f.value=window.innerWidth<=968,f.value||(R.value=!1,L.value="")},H=a=>{L.value===a&&R.value?N():(L.value=a,R.value=!0,document.body.style.overflow="hidden")},N=()=>{R.value=!1,L.value="",document.body.style.overflow=""},x=async(a,i)=>{for(const t of a)try{const o=await fe(Object.assign({"../components/AnnouncementPanel.vue":()=>d(()=>import("./chunk-AnnouncementPanel-CG82XFGu.js"),__vite__mapDeps([6,1,2,3,4,7])),"../components/ArchivePanel.vue":()=>d(()=>import("./chunk-ArchivePanel-D83Stb7n.js"),__vite__mapDeps([8,1,2,3,9,4,10])),"../components/CalendarPanel.vue":()=>d(()=>import("./chunk-CalendarPanel-pcRExGeF.js"),__vite__mapDeps([11,1,2,3,4,12])),"../components/CategoryPanel.vue":()=>d(()=>import("./chunk-CategoryPanel-BEKQ-qri.js"),__vite__mapDeps([13,2,1,3,9,4,14])),"../components/ClockPanel.vue":()=>d(()=>import("./chunk-ClockPanel-CoS-OJHz.js"),__vite__mapDeps([15,1,2,3,9,4,16])),"../components/CollectionPanel.vue":()=>d(()=>import("./chunk-CollectionPanel-CRz5RAlT.js"),__vite__mapDeps([17,2,1,3,4,18])),"../components/CryptoUnlock.vue":()=>d(()=>import("./chunk-CryptoUnlock-DWtgeSFV.js"),__vite__mapDeps([19,1,2,3,20,4,21])),"../components/GiscusComments.vue":()=>d(()=>import("./chunk-GiscusComments-CGXoxLRx.js"),__vite__mapDeps([22,1,2,3,4,23])),"../components/HeadMenu.vue":()=>d(()=>import("./chunk-HeadMenu-ByMUCLLY.js"),__vite__mapDeps([0,1,2,3,4,5])),"../components/MarkdownPanel.vue":()=>d(()=>import("./chunk-MarkdownPanel-CokiNd6j.js"),__vite__mapDeps([24,2,1,3,25,26,27,28,29,30,4,31,22,23,32])),"../components/PostPanel.vue":()=>d(()=>import("./chunk-PostPanel-BFduWWHQ.js"),__vite__mapDeps([33,2,1,3,9,4,34])),"../components/SelfIntroductionPanel.vue":()=>d(()=>import("./chunk-SelfIntroductionPanel-CcuND6Ny.js"),__vite__mapDeps([35,1,2,3,9,4,36])),"../components/TOCPanel.vue":()=>d(()=>import("./chunk-TOCPanel-B9980leW.js"),__vite__mapDeps([37,1,2,3,4,38])),"../components/TagPanel.vue":()=>d(()=>import("./chunk-TagPanel-DoNo1QxD.js"),__vite__mapDeps([39,2,9,1,3,4,40])),"../components/WaterfallPanel.vue":()=>d(()=>import("./chunk-WaterfallPanel-DIQF99us.js"),__vite__mapDeps([41,1,2,3,9,4,25,42]))}),`../components/${t}.vue`,3);i.value.push(o.default)}catch(o){console.error(`Failed to load component: ${t}`,o)}},U=()=>{k.value=!k.value},q=()=>{g.value=!g.value},P=E(!1),I=E(!1),j=E(0),G=E(0),J=E(0),K=E(0),V=()=>{if(f.value)return;const i=(parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||96)+32;if(O.value){const t=O.value.querySelector(".context"),o=O.value.querySelector(".FloatList");if(t&&o){const X=t.getBoundingClientRect().bottom,Y=o.getBoundingClientRect();X<=i?(P.value=!0,j.value=i,J.value=Y.left):P.value=!1}}if(A.value){const t=A.value.querySelector(".context"),o=A.value.querySelector(".FloatList");if(t&&o){const X=t.getBoundingClientRect().bottom,Y=o.getBoundingClientRect();X<=i?(I.value=!0,G.value=i,K.value=Y.left):I.value=!1}}},ae=oe(()=>f.value?{minWidth:"calc(100% - 2rem)",maxWidth:"calc(100% - 2rem)",margin:"0 1rem"}:!T.showTipList&&!T.showInfoList?{minWidth:"calc(100% - 4rem)"}:!T.showTipList&&T.showInfoList?g.value?{minWidth:"calc(100% - 4rem)"}:{minWidth:"calc(100% - 33rem)"}:T.showTipList&&!T.showInfoList?k.value?{minWidth:"calc(100% - 4rem)"}:{minWidth:"calc(100% - 33rem)"}:k.value&&g.value?{minWidth:"calc(100% - 4rem)"}:k.value||g.value?{minWidth:"calc(100% - 33rem)"}:{minWidth:"calc(100% - 58rem)"}),Q=()=>{const a=document.querySelector(".header-menu");if(a){const i=a.offsetHeight;document.documentElement.style.setProperty("--header-height",`${i+16}px`)}};return ue(async()=>{ne.currentTheme.value||ne.initializeTheme(),await x(C.TipListUp,F),await x(C.TipListDown,b),await x(C.MainListUp,ee),await x(C.MainListDown,te),await x(C.InfoListUp,B),await x(C.InfoListDown,M),await x(C.InfoListFloat,S),await x(C.TipListFloat,W),z(),Q(),q(),q(),U(),U(),V(),window.addEventListener("scroll",V),window.addEventListener("resize",()=>{z(),Q(),V()});const a=new ResizeObserver(()=>{Q(),V()}),i=document.querySelector(".header-menu");i&&a.observe(i)}),ve(()=>{window.removeEventListener("scroll",V),window.removeEventListener("resize",z),document.body.style.overflow=""}),(a,i)=>(e(),l(s,null,[n("div",null,[Z(_(D)),n("div",me,[w.showTipList&&!_(m)&&!f.value?(e(),l("button",{key:0,class:c(["toggle-btn","right-btn",{hidden:k.value}]),onClick:U},"→",2)):p("",!0),w.showTipList&&!_(m)&&!f.value?(e(),l("div",{key:1,class:c(["TipList","LeftList",{hidden:k.value}]),ref_key:"tipListRef",ref:A},[n("div",pe,[(e(!0),l(s,null,r(F.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"tip"),(e(!0),l(s,null,r(b.value,(t,o)=>(e(),u(v(t),{key:o}))),128))]),n("div",{class:c(["FloatList",{"float-fixed":I.value}]),style:$(I.value?{top:G.value+"px",left:K.value+"px"}:{})},[n("div",ye,[(e(!0),l(s,null,r(W.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"float-tip")])],6)],2)):p("",!0),w.showInfoList&&_(m)&&!f.value?(e(),l("button",{key:2,class:c(["toggle-btn","right-btn",{hidden:g.value}]),onClick:q},"→",2)):p("",!0),w.showInfoList&&_(m)&&!f.value?(e(),l("div",{key:3,class:c(["InfoList","LeftList",{hidden:g.value}]),ref_key:"infoListRef",ref:O},[n("div",Le,[(e(!0),l(s,null,r(B.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"info"),(e(!0),l(s,null,r(M.value,(t,o)=>(e(),u(v(t),{key:o}))),128))]),n("div",{class:c(["FloatList",{"float-fixed":P.value}]),style:$(P.value?{top:j.value+"px",left:J.value+"px"}:{})},[n("div",he,[(e(!0),l(s,null,r(S.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"float-info")])],6)],2)):p("",!0),n("div",{class:"MainList",style:$(ae.value)},[(e(!0),l(s,null,r(ee.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"main"),(e(!0),l(s,null,r(te.value,(t,o)=>(e(),u(v(t),{key:o}))),128))],4),w.showInfoList&&!_(m)&&!f.value?(e(),l("button",{key:4,class:c(["toggle-btn","left-btn",{hidden:g.value}]),onClick:q},"→",2)):p("",!0),w.showInfoList&&!_(m)&&!f.value?(e(),l("div",{key:5,class:c(["InfoList","RightList",{hidden:g.value}]),ref_key:"infoListRef",ref:O},[n("div",we,[(e(!0),l(s,null,r(B.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"info"),(e(!0),l(s,null,r(M.value,(t,o)=>(e(),u(v(t),{key:o}))),128))]),n("div",{class:c(["FloatList",{"float-fixed":P.value}]),style:$(P.value?{top:j.value+"px",left:J.value+"px"}:{})},[n("div",_e,[(e(!0),l(s,null,r(S.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"float-info")])],6)],2)):p("",!0),w.showTipList&&_(m)&&!f.value?(e(),l("button",{key:6,class:c(["toggle-btn","left-btn",{hidden:k.value}]),onClick:U},"→",2)):p("",!0),w.showTipList&&_(m)&&!f.value?(e(),l("div",{key:7,class:c(["TipList","RightList",{hidden:k.value}]),ref_key:"tipListRef",ref:A},[n("div",ke,[(e(!0),l(s,null,r(F.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"tip"),(e(!0),l(s,null,r(b.value,(t,o)=>(e(),u(v(t),{key:o}))),128))]),n("div",{class:c(["FloatList",{"float-fixed":I.value}]),style:$(I.value?{top:G.value+"px",left:K.value+"px"}:{})},[n("div",ge,[(e(!0),l(s,null,r(W.value,(t,o)=>(e(),u(v(t),{key:o}))),128)),y(a.$slots,"float-tip")])],6)],2)):p("",!0)])]),f.value?(e(),l("div",Ee,[_(m)?(e(),l(s,{key:1},[n("button",{class:c(["nav-item",{active:L.value==="info"}]),onClick:i[2]||(i[2]=t=>H("info"))},i[6]||(i[6]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2),n("button",{class:c(["nav-item",{active:L.value==="tip"}]),onClick:i[3]||(i[3]=t=>H("tip"))},i[7]||(i[7]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2)],64)):(e(),l(s,{key:0},[n("button",{class:c(["nav-item",{active:L.value==="tip"}]),onClick:i[0]||(i[0]=t=>H("tip"))},i[4]||(i[4]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2),n("button",{class:c(["nav-item",{active:L.value==="info"}]),onClick:i[1]||(i[1]=t=>H("info"))},i[5]||(i[5]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2)],64))])):p("",!0),Z(ie,{name:"drawer-backdrop"},{default:le(()=>[f.value&&R.value?(e(),l("div",{key:0,class:"drawer-backdrop",onClick:N})):p("",!0)]),_:1}),Z(ie,{name:"drawer"},{default:le(()=>[f.value&&R.value?(e(),l("div",{key:0,class:c(["mobile-drawer",se.value])},[n("div",Ce,[n("h3",null,de(L.value==="info"?"信息面板":"导航面板"),1),n("button",{class:"close-btn",onClick:N},i[8]||(i[8]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),n("div",Te,[L.value==="info"?(e(),l(s,{key:0},[(e(!0),l(s,null,r(B.value,(t,o)=>(e(),u(v(t),{key:"info-up-"+o}))),128)),y(a.$slots,"info"),(e(!0),l(s,null,r(M.value,(t,o)=>(e(),u(v(t),{key:"info-down-"+o}))),128)),(e(!0),l(s,null,r(S.value,(t,o)=>(e(),u(v(t),{key:"info-float-"+o}))),128)),y(a.$slots,"float-info")],64)):p("",!0),L.value==="tip"?(e(),l(s,{key:1},[(e(!0),l(s,null,r(F.value,(t,o)=>(e(),u(v(t),{key:"tip-up-"+o}))),128)),y(a.$slots,"tip"),(e(!0),l(s,null,r(b.value,(t,o)=>(e(),u(v(t),{key:"tip-down-"+o}))),128)),(e(!0),l(s,null,r(W.value,(t,o)=>(e(),u(v(t),{key:"tip-float-"+o}))),128)),y(a.$slots,"float-tip")],64)):p("",!0)])],2)):p("",!0)]),_:3})],64))}};export{Re as default};
