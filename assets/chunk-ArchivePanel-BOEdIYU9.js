import{r as v,C as Z,f as A,k as h,b as l,o as i,D as P,e as s,F as V,m as D,q as m,t as u,G as C,g as x,p as B}from"./entry-index-B2fPASMk.js";import{g as N}from"./chunk-index-D-nlVayj.js";import{_ as b}from"./chunk-_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"ArchivePanel"},L={class:"timeline-container"},S={key:0,class:"timeline-marker year-marker"},H={class:"year-text"},U={key:1,class:"timeline-marker month-marker"},T={class:"month-text"},Y=["onClick"],j={class:"post-info"},R={class:"post-date"},W={__name:"ArchivePanel",props:{markdownUrls:{type:Array,default:()=>[]}},setup(g){const p=g,f=v({}),d=v([]),w=Z();async function k(){const c=h.markdowns,a=[];for(const[t,e]of Object.entries(c))if(!(p.markdownUrls.length>0&&!p.markdownUrls.includes(t)))try{const r=(await x.get(t.startsWith("http")?t:new URL(t,import.meta.url).href)).data,{meta:n}=await B(r),M=n.tags&&(Array.isArray(n.tags)?n.tags.includes("公告"):n.tags==="公告"),y=n.title&&n.title.toLowerCase()==="about";!M&&!y&&a.push({url:t,...e})}catch(o){console.error(`Failed to check tags for ${t}:`,o),a.push({url:t,...e})}return a.sort((t,e)=>{const o=new Date(t.date);return new Date(e.date)-o}),a}A(async()=>{f.value=h.markdowns,d.value=await k(),N.from(".ArchivePanel",{opacity:0,y:40,duration:.8,ease:"power3.out"})});function _(c){const a=c.split("/").filter(r=>r!==""),e=a.pop().replace(".md","");let o=null;if(a.length>0){const r=a[a.length-1];r.toLowerCase()!=="posts"&&(o=r)}w.push({name:"PostPage",params:{collection:o,mdName:e}})}return(c,a)=>(i(),l("div",F,[a[2]||(a[2]=P('<div class="panel-header" data-v-66a9365d><div class="icon-wrapper" data-v-66a9365d><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="header-icon" data-v-66a9365d><path d="M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5 .75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5 .75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5 .75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5 .75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5 .75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5 .75.75 0 0 0 0 1.5Z" data-v-66a9365d></path><path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z" clip-rule="evenodd" data-v-66a9365d></path></svg></div><div class="header-text" data-v-66a9365d><h1 data-v-66a9365d>Archive</h1><span class="subtitle" data-v-66a9365d>历史文章归档</span></div></div>',1)),s("div",L,[(i(!0),l(V,null,D(d.value,(t,e)=>(i(),l("div",{key:t.url,class:"post-item-wrapper"},[e===0||new Date(t.date).getFullYear()!==new Date(d.value[e-1].date).getFullYear()?(i(),l("div",S,[s("span",H,u(new Date(t.date).getFullYear()),1)])):m("",!0),e===0||new Date(t.date).getMonth()!==new Date(d.value[e-1].date).getMonth()?(i(),l("div",U,[s("span",T,u(new Date(t.date).toLocaleString("default",{month:"long"})),1)])):m("",!0),s("div",{onClick:o=>_(t.url),class:"post-content post-entry"},[a[1]||(a[1]=s("div",{class:"post-dot"},null,-1)),s("div",j,[s("h3",null,u(t.title),1),s("p",R,[a[0]||(a[0]=s("svg",{class:"date-icon",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),C(" "+u(t.date),1)])])],8,Y)]))),128))])]))}},E=b(W,[["__scopeId","data-v-66a9365d"]]);export{E as default};
