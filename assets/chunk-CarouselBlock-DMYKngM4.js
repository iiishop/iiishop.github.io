import{_ as R}from"./chunk-_plugin-vue_export-helper-DlAUqK2U.js";import{r as c,i as b,f as F,j as V,v as j,b as l,o as n,e as t,l as d,m as A,F as C,k as N,y as $,t as _,n as q}from"./entry-index-SPlK3XI6.js";import"./chunk-mermaid-lib-Cmv1Qdle.js";const K={class:"image-container"},O=["src","alt"],U={key:0,class:"image-overlay"},W={class:"overlay-content"},H={key:0,class:"image-title"},J={key:1,class:"image-description"},Q=["disabled"],Y=["disabled"],Z={key:1,class:"carousel-indicators"},ee=["onClick","aria-label"],te={key:2,class:"carousel-progress"},ae={key:3,class:"carousel-counter"},se={class:"current"},oe={class:"total"},le={__name:"CarouselBlock",props:{images:{type:Array,required:!0},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},showIndicators:{type:Boolean,default:!0},showArrows:{type:Boolean,default:!0},height:{type:String,default:"400px"}},setup(v){const u=v,i=c(0),y=c(!1),m=c(null),f=c(null),T=c(0),I=c(0),p=c(!1),h=c(0),a=b(()=>u.images.length),M=b(()=>a.value>1),D=b(()=>a.value>1),z=b(()=>({height:u.height,transform:`translateX(calc(-${i.value*100}% + ${h.value}px))`,transition:p.value?"none":"transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)"})),k=()=>{!u.autoplay||a.value<=1||(g(),m.value=setInterval(()=>{w()},u.interval))},g=()=>{m.value&&(clearInterval(m.value),m.value=null)},x=e=>{y.value||e===i.value||(y.value=!0,i.value=e,setTimeout(()=>{y.value=!1},600))},w=()=>{if(!D.value||y.value)return;const e=(i.value+1)%a.value;x(e)},E=()=>{if(!M.value||y.value)return;const e=(i.value-1+a.value)%a.value;x(e)},L=e=>{a.value<=1||(g(),p.value=!0,T.value=e.type==="mousedown"?e.clientX:e.touches[0].clientX,h.value=0)},X=e=>{var r;if(!p.value||a.value<=1)return;e.preventDefault();const s=e.type==="mousemove"?e.clientX:e.touches[0].clientX;h.value=s-T.value;const o=((r=f.value)==null?void 0:r.offsetWidth)*.3||100;h.value=Math.max(-o,Math.min(o,h.value))},B=e=>{if(!p.value||a.value<=1)return;p.value=!1,I.value=e.type==="mouseup"?e.clientX:e.changedTouches[0].clientX;const s=I.value-T.value;Math.abs(s)>50&&(s>0?E():w()),h.value=0,u.autoplay&&setTimeout(k,1e3)},S=e=>{if(!(a.value<=1))switch(e.key){case"ArrowLeft":e.preventDefault(),E();break;case"ArrowRight":e.preventDefault(),w();break;case" ":e.preventDefault(),m.value?g():k();break}},G=()=>{g()},P=()=>{u.autoplay&&!p.value&&k()};return F(()=>{u.autoplay&&k(),document.addEventListener("keydown",S),f.value&&(f.value.addEventListener("mousedown",L),document.addEventListener("mousemove",X),document.addEventListener("mouseup",B))}),V(()=>{g(),document.removeEventListener("keydown",S),f.value&&(f.value.removeEventListener("mousedown",L),document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",B))}),j(()=>u.images,()=>{i.value=0,u.autoplay&&q(()=>{k()})},{immediate:!0}),(e,s)=>(n(),l("div",{class:"carousel-container",onMouseenter:G,onMouseleave:P,onTouchstart:L,onTouchmove:X,onTouchend:B},[t("div",{class:"carousel-viewport",ref_key:"carouselRef",ref:f},[t("div",{class:"carousel-track",style:A(z.value)},[(n(!0),l(C,null,N(v.images,(o,r)=>(n(),l("div",{key:r,class:$(["carousel-slide",{active:r===i.value}])},[t("div",K,[t("img",{src:o.src,alt:o.alt||`Slide ${r+1}`,class:"carousel-image",loading:"lazy"},null,8,O),o.title||o.description?(n(),l("div",U,[t("div",W,[o.title?(n(),l("h3",H,_(o.title),1)):d("",!0),o.description?(n(),l("p",J,_(o.description),1)):d("",!0)])])):d("",!0)])],2))),128))],4)],512),v.showArrows&&a.value>1?(n(),l(C,{key:0},[t("button",{class:"carousel-arrow carousel-arrow-prev",onClick:E,disabled:!M.value,"aria-label":"Previous image"},s[0]||(s[0]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"15,18 9,12 15,6"})],-1)]),8,Q),t("button",{class:"carousel-arrow carousel-arrow-next",onClick:w,disabled:!D.value,"aria-label":"Next image"},s[1]||(s[1]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("polyline",{points:"9,18 15,12 9,6"})],-1)]),8,Y)],64)):d("",!0),v.showIndicators&&a.value>1?(n(),l("div",Z,[(n(!0),l(C,null,N(v.images,(o,r)=>(n(),l("button",{key:r,class:$(["indicator",{active:r===i.value}]),onClick:ne=>x(r),"aria-label":`Go to slide ${r+1}`},s[2]||(s[2]=[t("span",{class:"indicator-dot"},null,-1)]),10,ee))),128))])):d("",!0),v.autoplay&&a.value>1?(n(),l("div",te,[t("div",{class:"progress-bar",style:A({animationDuration:v.interval+"ms",animationPlayState:m.value?"running":"paused"})},null,4)])):d("",!0),a.value>1?(n(),l("div",ae,[t("span",se,_(i.value+1),1),s[3]||(s[3]=t("span",{class:"separator"},"/",-1)),t("span",oe,_(a.value),1)])):d("",!0)],32))}},ce=R(le,[["__scopeId","data-v-2f40e318"]]);export{ce as default};
