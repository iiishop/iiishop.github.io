const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-Tag-B_48sbR6.js","assets/entry-index-B2fPASMk.js","assets/asset-index-Csvocidf.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-Tag-C0RPMPKw.css","assets/chunk-IconCategory-uyxeJpxs.js","assets/chunk-IconDate-2G5KsMJz.js"])))=>i.map(i=>d[i]);
import{r as h,i as b,f as lt,C as rt,j as ct,x as dt,b as c,o as l,e as a,c as V,q as x,l as m,u as P,F as v,m as y,t as M,a as k,d as A,w as E,T as ut,N as ht,g as mt,p as vt,_ as U}from"./entry-index-B2fPASMk.js";import{_ as gt}from"./chunk-_plugin-vue_export-helper-DlAUqK2U.js";const C="/assets/asset-loading-4bFnOtMK.gif",pt={class:"image-border-frame"},ft=["src"],yt={class:"content-panel"},_t={key:0,class:"content-wrapper"},wt={class:"main-content-area"},xt={class:"title-text"},Mt={class:"pre-text"},kt={class:"meta-sidebar"},Pt={class:"meta-list"},Ct={key:0,class:"meta-item category-row"},Tt={class:"meta-icon-wrapper"},It={class:"link-text"},Rt={key:1,class:"meta-item date-row"},bt={class:"meta-icon-wrapper"},At={class:"link-text"},Et={class:"tags-container"},Ut={key:0,class:"transition-overlay"},Ft={class:"radial-waves"},Lt={class:"floating-shapes"},zt={class:"transition-content"},St={class:"transition-text-wrapper"},Wt={class:"transition-text"},$t={class:"text-particles"},Bt={__name:"Post",props:{imageUrl:String,markdownUrl:String},setup(X){const Y=A(()=>U(()=>import("./chunk-Tag-B_48sbR6.js"),__vite__mapDeps([0,1,2,3,4]))),q=A(()=>U(()=>import("./chunk-IconCategory-uyxeJpxs.js"),__vite__mapDeps([5,3,1,2]))),N=A(()=>U(()=>import("./chunk-IconDate-2G5KsMJz.js"),__vite__mapDeps([6,3,1,2]))),g=X,u=h(g.imageUrl||C),i=h({}),F=h("auto"),L=h(0),z=h(0),S=h({}),W=h(!1),_=h(null);let p=null,r=[];const T=h(null);let I=null;class j{constructor(t,n){this.x=Math.random()*t,this.y=Math.random()*n,this.size=Math.random()*2+.5,this.speedX=Math.random()*.5-.25,this.speedY=Math.random()*.5-.25,this.opacity=Math.random()*.5+.2}update(t,n){this.x+=this.speedX,this.y+=this.speedY,this.x>t&&(this.x=0),this.x<0&&(this.x=t),this.y>n&&(this.y=0),this.y<0&&(this.y=n)}draw(t){t.fillStyle=`rgba(102, 126, 234, ${this.opacity})`,t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fill()}}function O(){if(!_.value)return;const e=_.value,t=e.parentElement.getBoundingClientRect();e.width=t.width,e.height=t.height,r=[];const n=Math.floor(e.width*e.height/15e3);for(let s=0;s<n;s++)r.push(new j(e.width,e.height))}function $(){if(!_.value)return;const e=_.value,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),r.forEach(n=>{n.update(e.width,e.height),n.draw(t)});for(let n=0;n<r.length;n++)for(let s=n+1;s<r.length;s++){const d=r[n].x-r[s].x,f=r[n].y-r[s].y,w=Math.sqrt(d*d+f*f);w<100&&(t.strokeStyle=`rgba(102, 126, 234, ${.1*(1-w/100)})`,t.lineWidth=.5,t.beginPath(),t.moveTo(r[n].x,r[n].y),t.lineTo(r[s].x,r[s].y),t.stroke())}p=requestAnimationFrame($)}function H(){O(),$()}function G(e){const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width,s=(e.clientY-t.top)/t.height;L.value=n,z.value=s,S.value={left:`${e.clientX-t.left}px`,top:`${e.clientY-t.top}px`}}function K(){p&&(cancelAnimationFrame(p),p=null)}const J=e=>{const t=e.target,n=t.naturalWidth,s=t.naturalHeight,d=n/s,f=Math.min(30,d*13);F.value=`${f}rem`};async function Q(e){console.log("Initializing markdown with URL:",e);try{const n=(await mt.get(e.startsWith("http")?e:new URL(e,import.meta.url).href)).data,{meta:s}=await vt(n);i.value=s,i.value.date&&(i.value.date=Z(i.value.date)),console.log("Metadata:",i.value)}catch(t){console.error("Failed to fetch markdown content:",t)}}function Z(e){return/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(e)?e.split(" ")[0]:e}function tt(e){if(console.log("Initializing image with URL:",e),e)if(e.startsWith("http")||e.startsWith("/")){u.value=C;const t=new Image;t.src=e,t.onload=()=>{u.value=e},t.onerror=()=>{console.error("Failed to load image:",e),u.value=""}}else u.value=new URL(e,import.meta.url).href;else u.value="";console.log("Image source set to:",u.value)}function et(){u.value=C}const B=b(()=>i.value.categories&&i.value.categories.length>0?i.value.categories[i.value.categories.length-1]:""),at=b(()=>i.value.categories&&i.value.categories.length>0?{name:"CategoryPage",params:{fullPath:i.value.categories.join("/")}}:"#"),st=b(()=>({name:"ArchivePage"}));lt(()=>{console.log("Component mounted"),g.imageUrl&&tt(g.imageUrl),g.markdownUrl&&Q(g.markdownUrl)});const nt=rt();function it(){if(!T.value)return;const e=T.value,t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const n=[],s=100,d=e.width/2,f=e.height/2;for(let o=0;o<s;o++){const R=Math.PI*2*o/s;n.push({x:d,y:f,vx:Math.cos(R)*(Math.random()*3+2),vy:Math.sin(R)*(Math.random()*3+2),size:Math.random()*4+2,opacity:1,color:`hsl(${250+Math.random()*30}, 70%, ${50+Math.random()*20}%)`})}function w(){t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,e.width,e.height),n.forEach((o,R)=>{o.x+=o.vx,o.y+=o.vy,o.opacity-=.01,o.size*=.98,!(o.opacity<=0)&&(t.fillStyle=o.color.replace(")",`, ${o.opacity})`),t.beginPath(),t.arc(o.x,o.y,o.size,0,Math.PI*2),t.fill())}),n.some(o=>o.opacity>0)&&(I=requestAnimationFrame(w))}w()}function D(){W.value=!0,setTimeout(()=>{it()},100),setTimeout(()=>{ot()},1200)}function ot(){const e=g.markdownUrl.split("/").filter(s=>s),t=e[e.length-1].replace(".md",""),n=e.length>2?e[1]:null;nt.push({name:"PostPage",params:{collection:n,mdName:t}})}return ct(()=>{p&&cancelAnimationFrame(p),I&&cancelAnimationFrame(I)}),(e,t)=>{const n=dt("router-link");return l(),c(v,null,[a("div",{class:"post-panel",onMouseenter:H,onMousemove:G,onMouseleave:K,style:m({"--mouse-x":L.value,"--mouse-y":z.value})},[a("canvas",{ref_key:"particleCanvas",ref:_,class:"particle-canvas"},null,512),a("div",{class:"glow-orb",style:m(S.value)},null,4),u.value&&u.value!==P(C)?(l(),c("div",{key:0,class:"image-panel",style:m({width:F.value})},[a("div",pt,[a("img",{src:u.value,alt:"Image",onLoad:J,onError:et},null,40,ft),t[0]||(t[0]=a("div",{class:"image-shimmer"},null,-1))])],4)):x("",!0),a("div",yt,[t[8]||(t[8]=a("div",{class:"deco-geometry"},[a("div",{class:"deco-circle"}),a("div",{class:"deco-triangle"})],-1)),i.value?(l(),c("div",_t,[a("div",wt,[a("div",{class:"title-panel",onClick:D},[a("p",xt,[(l(!0),c(v,null,y(i.value.title,(s,d)=>(l(),c("span",{key:d,class:"title-char",style:m({"--char-index":d})},M(s===" "?" ":s),5))),128))]),t[1]||(t[1]=a("div",{class:"title-underline"},null,-1))]),a("div",{class:"pre-panel",onClick:D},[a("pre",Mt,M(i.value.pre),1),t[2]||(t[2]=a("div",{class:"pre-gradient-overlay"},null,-1))])]),a("div",kt,[a("div",Pt,[B.value?(l(),c("div",Ct,[a("div",Tt,[k(P(q),{class:"meta-icon"}),t[3]||(t[3]=a("div",{class:"icon-ripple"},null,-1))]),k(n,{to:at.value,class:"meta-link"},{default:E(()=>[a("span",It,M(B.value),1),t[4]||(t[4]=a("span",{class:"link-arrow"},"→",-1))]),_:1},8,["to"])])):x("",!0),i.value.date?(l(),c("div",Rt,[a("div",bt,[k(P(N),{class:"meta-icon"}),t[5]||(t[5]=a("div",{class:"icon-ripple"},null,-1))]),k(n,{to:st.value,class:"meta-link"},{default:E(()=>[a("span",At,M(i.value.date),1),t[6]||(t[6]=a("span",{class:"link-arrow"},"→",-1))]),_:1},8,["to"])])):x("",!0)]),t[7]||(t[7]=a("div",{class:"props-divider"},[a("div",{class:"divider-glow"})],-1)),a("div",Et,[(l(!0),c(v,null,y(i.value.tags,(s,d)=>(l(),V(P(Y),{key:d,tagname:s,style:m({"--tag-index":d}),class:"animated-tag"},null,8,["tagname","style"]))),128))])])])):x("",!0),t[9]||(t[9]=a("div",{class:"scan-line"},null,-1))])],36),(l(),V(ht,{to:"body"},[k(ut,{name:"page-transition"},{default:E(()=>[W.value?(l(),c("div",Ut,[a("canvas",{ref_key:"transitionCanvas",ref:T,class:"transition-canvas"},null,512),a("div",Ft,[(l(),c(v,null,y(5,s=>a("div",{class:"wave",key:s,style:m({"--wave-delay":s*.1+"s"})},null,4)),64))]),a("div",Lt,[(l(),c(v,null,y(8,s=>a("div",{class:"shape shape-circle",key:"c"+s,style:m({"--shape-delay":Math.random()*.5+"s","--shape-x":Math.random()*100+"%","--shape-y":Math.random()*100+"%"})},null,4)),64)),(l(),c(v,null,y(6,s=>a("div",{class:"shape shape-square",key:"s"+s,style:m({"--shape-delay":Math.random()*.5+"s","--shape-x":Math.random()*100+"%","--shape-y":Math.random()*100+"%"})},null,4)),64))]),a("div",zt,[t[10]||(t[10]=a("div",{class:"transition-spinner"},[a("div",{class:"spinner-ring"}),a("div",{class:"spinner-ring"}),a("div",{class:"spinner-ring"})],-1)),a("div",St,[a("p",Wt,M(i.value.title),1),a("div",$t,[(l(),c(v,null,y(20,s=>a("span",{key:s,class:"text-particle",style:m({"--particle-delay":Math.random()*.3+"s","--particle-angle":Math.random()*360+"deg"})},null,4)),64))])]),t[11]||(t[11]=a("div",{class:"loading-bar"},[a("div",{class:"loading-progress"})],-1))])])):x("",!0)]),_:1})]))],64)}}},Xt=gt(Bt,[["__scopeId","data-v-057c76b8"]]);export{Xt as default};
