const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-HeadMenu-CQucMAPQ.js","assets/entry-index-SPlK3XI6.js","assets/chunk-mermaid-lib-Cmv1Qdle.js","assets/asset-index-whA3utIM.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-HeadMenu-D1skhvtb.css","assets/chunk-AnnouncementPanel-8Cp_2xPC.js","assets/asset-AnnouncementPanel-BYb_4ZRd.css","assets/chunk-ArchivePanel-BQ2cavIs.js","assets/chunk-index-D-nlVayj.js","assets/asset-ArchivePanel-DuOPV22X.css","assets/chunk-CalendarPanel-ZcW4gKSZ.js","assets/asset-CalendarPanel-BrzdHZSY.css","assets/chunk-CategoryPanel-D-tI5MAH.js","assets/asset-CategoryPanel-BaZf9JmQ.css","assets/chunk-ClockPanel-BpiuxuWv.js","assets/asset-ClockPanel-CWUKFMwA.css","assets/chunk-CollectionPanel-9QXrD8NB.js","assets/asset-CollectionPanel-BKK-UhkU.css","assets/chunk-CryptoUnlock-rxBAnsWT.js","assets/chunk-crypto-Bx4buzML.js","assets/asset-CryptoUnlock-B7SyQrD2.css","assets/chunk-HeroSection-KFj7OQQr.js","assets/asset-HeroSection-hXLbBWaG.css","assets/chunk-ImageViewer-D_xUdRnu.js","assets/asset-ImageViewer-C0S8naOY.css","assets/chunk-MarkdownPanel-a82vFY0O.js","assets/chunk-index-BvY5Kkhr.js","assets/chunk-MarkdownRenender-BmwCwBvV.js","assets/asset-MarkdownRenender-K9OW4vBv.css","assets/chunk-DynamicComponentRenderer-EWeTqZsn.js","assets/asset-DynamicComponentRenderer-CHIJsviu.css","assets/chunk-IconCategory-BjgGv1os.js","assets/chunk-IconDate-iAKkJv9j.js","assets/chunk-UtterancesComments-DCoeB3cH.js","assets/asset-UtterancesComments-CxXa2y_h.css","assets/asset-MarkdownPanel-DNdJQUBn.css","assets/chunk-PostPanel-BQqd9f6C.js","assets/asset-PostPanel-7e7NkFNg.css","assets/chunk-SelfIntroductionPanel-D3Qh1-wt.js","assets/asset-SelfIntroductionPanel-B7Pd1hSk.css","assets/chunk-TOCPanel-DqsHO6_v.js","assets/asset-TOCPanel-BuOZZEpp.css","assets/chunk-TagPanel-CQI9eStJ.js","assets/asset-TagPanel-sV5NdjJy.css","assets/chunk-WaterfallPanel-CCp5Yqzj.js","assets/asset-WaterfallPanel-CByYdZIf.css"])))=>i.map(i=>d[i]);
import{_ as f}from"./chunk-mermaid-lib-Cmv1Qdle.js";import{h as r,Q as he,i as I,R as y,r as w,S as Le,f as ye,s as ce,j as we,b as i,o as t,e as n,l as h,a as ie,u as g,d as ge,y as p,U as L,F as a,k as u,c as v,V as c,m as O,w as de,T as fe,t as ke}from"./entry-index-SPlK3XI6.js";const Ee=(Y,D,A)=>{const d=Y[D];return d?typeof d=="function"?d():Promise.resolve(d):new Promise(($,k)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(k.bind(null,new Error("Unknown variable dynamic import: "+D+(D.split("/").length!==A?". Note that variables only represent file names one level deep.":""))))})},Te={class:"Scene"},be={class:"context"},xe={class:"float-list"},Ce={class:"context"},Pe={class:"float-list"},Re={class:"context"},Ie={class:"float-list"},De={class:"context"},$e={class:"float-list"},Fe={key:0,class:"mobile-bottom-nav"},Se={class:"drawer-header"},Ve={class:"drawer-content"},Be={__name:"BaseLayout",props:{showTipList:{type:Boolean,default:!0},showInfoList:{type:Boolean,default:!0}},setup(Y){const D=ge(()=>f(()=>import("./chunk-HeadMenu-CQucMAPQ.js"),__vite__mapDeps([0,1,2,3,4,5]))),A=Y,d=r.ChangeInfoAndTipPosition,$=he(),k=I(()=>{if(A.showTipList===!1)return!1;const s=r.TipListUp&&r.TipListUp.length>0||r.TipListDown&&r.TipListDown.length>0||r.TipListFloat&&r.TipListFloat.length>0,l=$.tip||$["float-tip"];return s||l}),x=I(()=>{if(A.showInfoList===!1)return!1;const s=r.InfoListUp&&r.InfoListUp.length>0||r.InfoListDown&&r.InfoListDown.length>0||r.InfoListFloat&&r.InfoListFloat.length>0,l=$.info||$["float-info"];return s||l}),B=y([]),M=y([]),ae=y([]),re=y([]),H=y([]),U=y([]),W=y([]),q=y([]),E=y(!1),T=y(!1),F=y(null),S=y(null),m=w(!1),C=w(!1),_=w(""),G=w(!1),ue=Le(),ve=I(()=>ue.name==="HomePage"||ue.path==="/"),z=I(()=>ve.value?G.value:!0),pe=I(()=>d?_.value==="info"?"left":"right":_.value==="info"?"right":"left"),J=()=>{m.value=window.innerWidth<=968,m.value||(C.value=!1,_.value="")},K=()=>{if(!ve.value){G.value=!0;return}const s=window.innerHeight;G.value=window.scrollY>s*.3},N=s=>{_.value===s&&C.value?X():(_.value=s,C.value=!0,document.body.style.overflow="hidden")},X=()=>{C.value=!1,_.value="",document.body.style.overflow=""},b=async(s,l)=>{for(const e of s)try{const o=await Ee(Object.assign({"../components/AnnouncementPanel.vue":()=>f(()=>import("./chunk-AnnouncementPanel-8Cp_2xPC.js"),__vite__mapDeps([6,1,2,3,4,7])),"../components/ArchivePanel.vue":()=>f(()=>import("./chunk-ArchivePanel-BQ2cavIs.js"),__vite__mapDeps([8,1,2,3,9,4,10])),"../components/CalendarPanel.vue":()=>f(()=>import("./chunk-CalendarPanel-ZcW4gKSZ.js"),__vite__mapDeps([11,1,2,3,4,12])),"../components/CategoryPanel.vue":()=>f(()=>import("./chunk-CategoryPanel-D-tI5MAH.js"),__vite__mapDeps([13,2,1,3,9,4,14])),"../components/ClockPanel.vue":()=>f(()=>import("./chunk-ClockPanel-BpiuxuWv.js"),__vite__mapDeps([15,1,2,3,9,4,16])),"../components/CollectionPanel.vue":()=>f(()=>import("./chunk-CollectionPanel-9QXrD8NB.js"),__vite__mapDeps([17,2,1,3,4,18])),"../components/CryptoUnlock.vue":()=>f(()=>import("./chunk-CryptoUnlock-rxBAnsWT.js"),__vite__mapDeps([19,1,2,3,20,4,21])),"../components/HeadMenu.vue":()=>f(()=>import("./chunk-HeadMenu-CQucMAPQ.js"),__vite__mapDeps([0,1,2,3,4,5])),"../components/HeroSection.vue":()=>f(()=>import("./chunk-HeroSection-KFj7OQQr.js"),__vite__mapDeps([22,1,2,3,4,23])),"../components/ImageViewer.vue":()=>f(()=>import("./chunk-ImageViewer-D_xUdRnu.js"),__vite__mapDeps([24,1,2,3,4,25])),"../components/MarkdownPanel.vue":()=>f(()=>import("./chunk-MarkdownPanel-a82vFY0O.js"),__vite__mapDeps([26,2,1,3,27,28,29,30,31,32,4,33,24,25,34,35,36])),"../components/PostPanel.vue":()=>f(()=>import("./chunk-PostPanel-BQqd9f6C.js"),__vite__mapDeps([37,2,1,3,9,4,38])),"../components/SelfIntroductionPanel.vue":()=>f(()=>import("./chunk-SelfIntroductionPanel-D3Qh1-wt.js"),__vite__mapDeps([39,1,2,3,9,4,40])),"../components/TOCPanel.vue":()=>f(()=>import("./chunk-TOCPanel-DqsHO6_v.js"),__vite__mapDeps([41,1,2,3,4,42])),"../components/TagPanel.vue":()=>f(()=>import("./chunk-TagPanel-CQI9eStJ.js"),__vite__mapDeps([43,2,9,1,3,4,44])),"../components/UtterancesComments.vue":()=>f(()=>import("./chunk-UtterancesComments-DCoeB3cH.js"),__vite__mapDeps([34,1,2,3,4,35])),"../components/WaterfallPanel.vue":()=>f(()=>import("./chunk-WaterfallPanel-CCp5Yqzj.js"),__vite__mapDeps([45,1,2,3,9,4,27,46]))}),`../components/${e}.vue`,3);l.value.push(o.default)}catch(o){console.error(`Failed to load component: ${e}`,o)}},j=()=>{E.value=!E.value},Q=()=>{T.value=!T.value},P=w(!1),R=w(!1),Z=w(0),ee=w(0),te=w(0),oe=w(0),V=()=>{if(m.value)return;const l=(parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||96)+32;if(F.value){const e=F.value.querySelector(".context"),o=F.value.querySelector(".FloatList");if(e&&o){const le=e.getBoundingClientRect().bottom,se=o.getBoundingClientRect();le<=l?(P.value=!0,Z.value=l,te.value=se.left):P.value=!1}}if(S.value){const e=S.value.querySelector(".context"),o=S.value.querySelector(".FloatList");if(e&&o){const le=e.getBoundingClientRect().bottom,se=o.getBoundingClientRect();le<=l?(R.value=!0,ee.value=l,oe.value=se.left):R.value=!1}}},me=I(()=>{if(m.value)return{minWidth:"calc(100% - 2rem)",maxWidth:"calc(100% - 2rem)",margin:"0 1rem"};const s="var(--sidebar-width)",l="4rem",e=d&&x.value&&!T.value||!d&&k.value&&!E.value,o=d&&k.value&&!E.value||!d&&x.value&&!T.value;return!k.value&&!x.value?{minWidth:"calc(100% - 4rem)",maxWidth:"calc(100% - 4rem)",margin:"0 2rem"}:!e&&!o?{minWidth:"calc(100% - 4rem)",maxWidth:"calc(100% - 4rem)",margin:"0 2rem"}:e&&!o?{minWidth:`calc(100% - ${s} - ${l} - 2rem)`,maxWidth:`calc(100% - ${s} - ${l} - 2rem)`,marginRight:"2rem"}:!e&&o?{minWidth:`calc(100% - ${s} - ${l} - 2rem)`,maxWidth:`calc(100% - ${s} - ${l} - 2rem)`,marginLeft:"2rem"}:{minWidth:`calc(100% - ${s} * 2 - ${l} * 2)`,maxWidth:`calc(100% - ${s} * 2 - ${l} * 2)`}}),ne=()=>{const s=document.querySelector(".header-menu");if(s){const l=s.offsetHeight;document.documentElement.style.setProperty("--header-height",`${l+16}px`)}};return ye(async()=>{ce.currentTheme.value||ce.initializeTheme(),await b(r.TipListUp,B),await b(r.TipListDown,M),await b(r.MainListUp,ae),await b(r.MainListDown,re),await b(r.InfoListUp,H),await b(r.InfoListDown,U),await b(r.InfoListFloat,W),await b(r.TipListFloat,q),J(),ne(),K(),Q(),Q(),j(),j(),V(),window.addEventListener("scroll",V),window.addEventListener("scroll",K),window.addEventListener("resize",()=>{J(),ne(),V()});const s=new ResizeObserver(()=>{ne(),V()}),l=document.querySelector(".header-menu");l&&s.observe(l)}),we(()=>{window.removeEventListener("scroll",V),window.removeEventListener("scroll",K),window.removeEventListener("resize",J),document.body.style.overflow=""}),(s,l)=>(t(),i(a,null,[n("div",null,[l[4]||(l[4]=n("div",{class:"baselayout-background-overlay"},null,-1)),ie(g(D)),n("div",Te,[k.value&&!g(d)&&!m.value&&z.value?(t(),i("button",{key:0,class:p(["toggle-btn","right-btn",{hidden:E.value}]),onClick:j},"→",2)):h("",!0),k.value&&!g(d)&&!m.value?(t(),i("div",{key:1,class:p(["TipList","LeftList",{hidden:E.value}]),ref_key:"tipListRef",ref:S},[n("div",be,[(t(!0),i(a,null,u(B.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"tip"),(t(!0),i(a,null,u(M.value,(e,o)=>(t(),v(c(e),{key:o}))),128))]),n("div",{class:p(["FloatList",{"float-fixed":R.value}]),style:O(R.value?{top:ee.value+"px",left:oe.value+"px"}:{})},[n("div",xe,[(t(!0),i(a,null,u(q.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"float-tip")])],6)],2)):h("",!0),x.value&&g(d)&&!m.value&&z.value?(t(),i("button",{key:2,class:p(["toggle-btn","right-btn",{hidden:T.value}]),onClick:Q},"→",2)):h("",!0),x.value&&g(d)&&!m.value?(t(),i("div",{key:3,class:p(["InfoList","LeftList",{hidden:T.value}]),ref_key:"infoListRef",ref:F},[n("div",Ce,[(t(!0),i(a,null,u(H.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"info"),(t(!0),i(a,null,u(U.value,(e,o)=>(t(),v(c(e),{key:o}))),128))]),n("div",{class:p(["FloatList",{"float-fixed":P.value}]),style:O(P.value?{top:Z.value+"px",left:te.value+"px"}:{})},[n("div",Pe,[(t(!0),i(a,null,u(W.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"float-info")])],6)],2)):h("",!0),n("div",{class:"MainList",style:O(me.value)},[(t(!0),i(a,null,u(ae.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"main"),(t(!0),i(a,null,u(re.value,(e,o)=>(t(),v(c(e),{key:o}))),128))],4),x.value&&!g(d)&&!m.value&&z.value?(t(),i("button",{key:4,class:p(["toggle-btn","left-btn",{hidden:T.value}]),onClick:Q},"→",2)):h("",!0),x.value&&!g(d)&&!m.value?(t(),i("div",{key:5,class:p(["InfoList","RightList",{hidden:T.value}]),ref_key:"infoListRef",ref:F},[n("div",Re,[(t(!0),i(a,null,u(H.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"info"),(t(!0),i(a,null,u(U.value,(e,o)=>(t(),v(c(e),{key:o}))),128))]),n("div",{class:p(["FloatList",{"float-fixed":P.value}]),style:O(P.value?{top:Z.value+"px",left:te.value+"px"}:{})},[n("div",Ie,[(t(!0),i(a,null,u(W.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"float-info")])],6)],2)):h("",!0),k.value&&g(d)&&!m.value&&z.value?(t(),i("button",{key:6,class:p(["toggle-btn","left-btn",{hidden:E.value}]),onClick:j},"→",2)):h("",!0),k.value&&g(d)&&!m.value?(t(),i("div",{key:7,class:p(["TipList","RightList",{hidden:E.value}]),ref_key:"tipListRef",ref:S},[n("div",De,[(t(!0),i(a,null,u(B.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"tip"),(t(!0),i(a,null,u(M.value,(e,o)=>(t(),v(c(e),{key:o}))),128))]),n("div",{class:p(["FloatList",{"float-fixed":R.value}]),style:O(R.value?{top:ee.value+"px",left:oe.value+"px"}:{})},[n("div",$e,[(t(!0),i(a,null,u(q.value,(e,o)=>(t(),v(c(e),{key:o}))),128)),L(s.$slots,"float-tip")])],6)],2)):h("",!0)])]),m.value?(t(),i("div",Fe,[g(d)?(t(),i(a,{key:1},[n("button",{class:p(["nav-item",{active:_.value==="info"}]),onClick:l[2]||(l[2]=e=>N("info"))},l[7]||(l[7]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2),n("button",{class:p(["nav-item",{active:_.value==="tip"}]),onClick:l[3]||(l[3]=e=>N("tip"))},l[8]||(l[8]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2)],64)):(t(),i(a,{key:0},[n("button",{class:p(["nav-item",{active:_.value==="tip"}]),onClick:l[0]||(l[0]=e=>N("tip"))},l[5]||(l[5]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),n("path",{d:"M2 17l10 5 10-5"}),n("path",{d:"M2 12l10 5 10-5"})],-1),n("span",null,"导航",-1)]),2),n("button",{class:p(["nav-item",{active:_.value==="info"}]),onClick:l[1]||(l[1]=e=>N("info"))},l[6]||(l[6]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("circle",{cx:"12",cy:"12",r:"10"}),n("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),n("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),n("span",null,"信息",-1)]),2)],64))])):h("",!0),ie(fe,{name:"drawer-backdrop"},{default:de(()=>[m.value&&C.value?(t(),i("div",{key:0,class:"drawer-backdrop",onClick:X})):h("",!0)]),_:1}),ie(fe,{name:"drawer"},{default:de(()=>[m.value&&C.value?(t(),i("div",{key:0,class:p(["mobile-drawer",pe.value])},[n("div",Se,[n("h3",null,ke(_.value==="info"?"信息面板":"导航面板"),1),n("button",{class:"close-btn",onClick:X},l[9]||(l[9]=[n("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[n("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)]))]),n("div",Ve,[_.value==="info"?(t(),i(a,{key:0},[(t(!0),i(a,null,u(H.value,(e,o)=>(t(),v(c(e),{key:"info-up-"+o}))),128)),L(s.$slots,"info"),(t(!0),i(a,null,u(U.value,(e,o)=>(t(),v(c(e),{key:"info-down-"+o}))),128)),(t(!0),i(a,null,u(W.value,(e,o)=>(t(),v(c(e),{key:"info-float-"+o}))),128)),L(s.$slots,"float-info")],64)):h("",!0),_.value==="tip"?(t(),i(a,{key:1},[(t(!0),i(a,null,u(B.value,(e,o)=>(t(),v(c(e),{key:"tip-up-"+o}))),128)),L(s.$slots,"tip"),(t(!0),i(a,null,u(M.value,(e,o)=>(t(),v(c(e),{key:"tip-down-"+o}))),128)),(t(!0),i(a,null,u(q.value,(e,o)=>(t(),v(c(e),{key:"tip-float-"+o}))),128)),L(s.$slots,"float-tip")],64)):h("",!0)])],2)):h("",!0)]),_:3})],64))}};export{Be as default};
