const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-CategoryNode-DL9YueoY.js","assets/entry-index-DzRKx3tS.js","assets/chunk-mermaid-lib-BuZcN1zc.js","assets/asset-index-whA3utIM.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-CategoryNode-D5RxkcSY.css"])))=>i.map(i=>d[i]);
import{_ as M}from"./chunk-mermaid-lib-BuZcN1zc.js";import{C as Z,i as f,p as y,f as L,n as O,v as S,b as i,o as c,e as a,l as P,t as d,a as m,w as v,F as w,k as C,c as E,u as F,d as I,m as k,I as b,T as R}from"./entry-index-DzRKx3tS.js";import{g as x}from"./chunk-index-D-nlVayj.js";import{_ as $}from"./chunk-_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"CategoryPanel"},W={class:"panel-header"},z={class:"header-left"},G={class:"header-content"},U={class:"category-title"},q={class:"subtitle"},J=["disabled"],K={class:"tree-container"},Q=["onClick"],X={class:"node-content"},Y={class:"file-name"},ee={class:"file-date"},te={key:0,class:"empty-state"},ae={__name:"CategoryPanel",props:{categoryPath:{type:Array,default:()=>[]}},setup(N){const T=I(()=>M(()=>import("./chunk-CategoryNode-DL9YueoY.js"),__vite__mapDeps([0,1,2,3,4,5]))),s=N,h=Z(),V=y.categories,j=o=>{const e={},t=l=>{const r={};for(const[n,p]of Object.entries(l))r[n]={name:n,files:p.files||[],childCategories:p.childCategories?t(p.childCategories):{}};return r};for(const[l,r]of Object.entries(o))e[l]={name:l,files:r.files||[],childCategories:r.childCategories?t(r.childCategories):{}};return e},u=f(()=>j(V)),_=f(()=>{if(s.categoryPath.length===0)return Object.entries(y.markdowns).filter(([e,t])=>e.toLowerCase().includes("/waterfallgraph/")?!1:!t.categories||t.categories.length===0).map(([e,t])=>({...t,path:e}));let o=u.value;for(let e=0;e<s.categoryPath.length;e++){const t=s.categoryPath[e];if(o[t]){if(e===s.categoryPath.length-1)return(o[t].files||[]).filter(r=>!r.toLowerCase().includes("/waterfallgraph/")).map(r=>({...y.markdowns[r],path:r}));o=o[t].childCategories}else return[]}return[]}),g=f(()=>{if(s.categoryPath.length===0)return u.value;let o=u.value;for(const e of s.categoryPath)if(o[e])o=o[e].childCategories;else return{};return o}),A=()=>{if(s.categoryPath.length>0){const o=s.categoryPath.slice(0,-1).join("/");h.push(`/category/${o}`)}},B=()=>h.currentRoute.value.path.startsWith("/category")?s.categoryPath.join("/"):`/${s.categoryPath.join("/")}`;function H(o){const e=o.split("/").filter(n=>n!==""),l=e.pop().replace(".md","");let r=null;if(e.length>0){const n=e[e.length-1];n.toLowerCase()!=="posts"&&(r=n)}h.push({name:"PostPage",params:{collection:r,mdName:l}})}return L(async()=>{x.from(".CategoryPanel",{duration:.8,opacity:0,y:30,ease:"power3.out"}),await O()}),S(()=>s.categoryPath,()=>{x.fromTo(".header-content",{y:-5,opacity:.5},{y:0,opacity:1,duration:.3,ease:"power2.out"})}),(o,e)=>(c(),i("div",D,[a("div",W,[a("div",z,[e[0]||(e[0]=a("div",{class:"icon-wrapper"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"header-icon"},[a("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"})])],-1)),a("div",G,[a("h2",U,d(s.categoryPath.length>0?s.categoryPath[s.categoryPath.length-1]:"Categories"),1),a("span",q,d(s.categoryPath.length>0?"子目录浏览":"知识分类索引"),1)])]),s.categoryPath.length>0?(c(),i("button",{key:0,onClick:A,disabled:s.categoryPath.length===0,class:"back-button",title:"返回上一级"},e[1]||(e[1]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"back-icon"},[a("path",{"fill-rule":"evenodd",d:"M9.53 2.47a.75.75 0 0 1 0 1.06L4.81 8.25H15a6.75 6.75 0 0 1 0 13.5h-3a.75.75 0 0 1 0-1.5h3a5.25 5.25 0 1 0 0-10.5H4.81l4.72 4.72a.75.75 0 1 1-1.06 1.06l-6-6a.75.75 0 0 1 0-1.06l6-6a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})],-1)]),8,J)):P("",!0)]),a("div",K,[m(b,{name:"list",tag:"ul",class:"category-ul",appear:""},{default:v(()=>[(c(!0),i(w,null,C(g.value,(t,l,r)=>(c(),E(F(T),{key:l,name:l,node:t,parentPath:B(),class:"category-list-enter",style:k({"--delay":r*.05+"s"})},null,8,["name","node","parentPath","style"]))),128))]),_:1}),m(b,{name:"list",tag:"ul",class:"file-ul",appear:""},{default:v(()=>[(c(!0),i(w,null,C(_.value,(t,l)=>(c(),i("li",{key:t.path,class:"file-item-wrapper file-list-enter",style:k({"--delay":Object.keys(g.value).length*.05+l*.05+"s"})},[a("div",{class:"file-node",onClick:r=>H(t.path)},[a("div",X,[e[2]||(e[2]=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"file-icon"},[a("path",{"fill-rule":"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z","clip-rule":"evenodd"}),a("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})],-1)),a("span",Y,d(t.title||"Untitled"),1)]),a("span",ee,d(t.date),1)],8,Q)],4))),128))]),_:1}),m(R,{name:"fade"},{default:v(()=>[Object.keys(g.value).length===0&&_.value.length===0?(c(),i("div",te,e[3]||(e[3]=[a("span",null,"此目录下暂无内容",-1)]))):P("",!0)]),_:1})])]))}},ne=$(ae,[["__scopeId","data-v-f3c9744f"]]);export{ne as default};
