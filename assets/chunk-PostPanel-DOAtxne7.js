const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-Post-DV1c1p-4.js","assets/entry-index-Bo1d2ANa.js","assets/asset-index-6zzVofnq.css","assets/chunk-_plugin-vue_export-helper-DlAUqK2U.js","assets/asset-Post-BuKh1vNQ.css"])))=>i.map(i=>d[i]);
import{r as v,f as U,i as P,h as _,b as d,o as c,a as $,e as i,w as B,F as m,m as f,c as D,u as E,d as F,H as M,t as O,k as S,g as V,p as j,_ as N}from"./entry-index-Bo1d2ANa.js";import{g as R}from"./chunk-index-D-nlVayj.js";import{_ as I}from"./chunk-_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"PostPanel"},G={class:"pagination"},H=["disabled"],q=["disabled"],z=["onClick","disabled"],J=["disabled"],K=["disabled"],Q={__name:"PostPanel",setup(X){const b=F(()=>N(()=>import("./chunk-Post-DV1c1p-4.js"),__vite__mapDeps([0,1,2,3,4]))),u=v({}),t=v(1);async function p(){const a=S.markdowns,s={};for(const[e,r]of Object.entries(a))try{const g=(await V.get(e.startsWith("http")?e:new URL(e,import.meta.url).href)).data,{meta:l}=await j(g),L=l.tags&&(Array.isArray(l.tags)?l.tags.includes("公告"):l.tags==="公告"),x=l.title&&l.title.toLowerCase()==="about";!L&&!x&&(s[e]=r)}catch(o){console.error(`Failed to check tags for ${e}:`,o),s[e]=r}u.value=s}U(()=>{p()});const n=P(()=>Math.ceil(Object.keys(u.value).length/_.PostsPerPage)),h=P(()=>{const a=Object.keys(u.value).map(o=>({key:o,...u.value[o]})).sort((o,g)=>new Date(g.date)-new Date(o.date)),s=(t.value-1)*_.PostsPerPage,e=s+_.PostsPerPage,r=a.slice(s,e);return console.log(`Current Page: ${t.value}, Start: ${s}, End: ${e}`),r}),k=a=>{a>=1&&a<=n.value&&(t.value=a)},w=()=>{t.value=1},y=()=>{t.value=n.value},C=()=>{t.value<n.value&&(t.value+=1)},T=()=>{t.value>1&&(t.value-=1)};function A(a,s){R.to(a,{height:.1,width:.1,onComplete:s})}return(a,s)=>(c(),d("div",W,[$(M,{name:"fade",tag:"div",class:"posts",onLeave:A},{default:B(()=>[(c(!0),d(m,null,f(h.value,e=>(c(),D(E(b),{key:e.key,imageUrl:e.imageUrl,markdownUrl:e.key},null,8,["imageUrl","markdownUrl"]))),128))]),_:1}),i("div",G,[i("button",{onClick:w,disabled:t.value===1},"最前页",8,H),i("button",{onClick:T,disabled:t.value===1},"前一页",8,q),(c(!0),d(m,null,f(n.value,e=>(c(),d("button",{key:e,onClick:r=>k(e),disabled:t.value===e},O(e),9,z))),128)),i("button",{onClick:C,disabled:t.value===n.value},"后一页",8,J),i("button",{onClick:y,disabled:t.value===n.value},"最后页",8,K)])]))}},te=I(Q,[["__scopeId","data-v-1c1e29b8"]]);export{te as default};
