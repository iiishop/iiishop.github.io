import{r as h,i as M,A as v,f as x,j as A,b as u,o as d,q as k,e as i,t as p,F as T,m as B,x as y,h as s}from"./entry-index-Bg11hsaB.js";import{_ as z}from"./chunk-_plugin-vue_export-helper-DlAUqK2U.js";import"./chunk-mermaid-lib-PTTmCi0X.js";const S={key:0,class:"quick-reactions"},j={class:"reactions-header"},q={class:"reactions-title"},L={class:"reactions-subtitle"},R={class:"reactions-grid"},H=["onClick","title"],I=["innerHTML"],E={class:"reaction-label"},Q={key:0,class:"reaction-count"},V={__name:"GiscusComments",props:{componentType:{type:String,default:"markdown",validator:c=>["markdown","image"].includes(c)},term:{type:String,default:""},compact:{type:Boolean,default:!1},emphasizeReactions:{type:Boolean,default:!1},customTheme:{type:String,default:""},showQuickReactions:{type:Boolean,default:!1}},setup(c,{expose:b}){const o=c,n=h(null);let e=null;const _=h([{name:"thumbsup",label:"赞",svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
        </svg>`,count:0,active:!1},{name:"heart",label:"喜欢",svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>`,count:0,active:!1},{name:"rocket",label:"精彩",svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"></path>
            <path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"></path>
            <path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"></path>
            <path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"></path>
        </svg>`,count:0,active:!1},{name:"laugh",label:"有趣",svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
            <line x1="9" y1="9" x2="9.01" y2="9"></line>
            <line x1="15" y1="9" x2="15.01" y2="9"></line>
        </svg>`,count:0,active:!1}]),C=M(()=>({"compact-mode":o.compact,"reactions-emphasized":o.emphasizeReactions,"markdown-style":o.componentType==="markdown","image-style":o.componentType==="image"})),w=()=>{const t=s.Giscus;return o.componentType==="image"?{...t,...t.imageModal}:{...t,...t.markdownPanel}},G=t=>{var a,l;t.active=!t.active,t.active?t.count++:t.count=Math.max(0,t.count-1);const r=(a=n.value)==null?void 0:a.querySelector("iframe.giscus-frame");if(r){const g={setConfig:{reaction:t.name}};(l=r.contentWindow)==null||l.postMessage({giscus:g},"https://giscus.app")}},m=()=>{if(!s.Giscus.enabled)return;if(!s.Giscus.repo||!s.Giscus.repoId){console.warn("[Giscus] Missing required configuration: repo and repoId");return}w().enabled&&(e&&e.remove(),n.value&&(n.value.innerHTML=""),e=document.createElement("script"),e.src="https://giscus.app/client.js",e.setAttribute("data-repo",s.Giscus.repo),e.setAttribute("data-repo-id",s.Giscus.repoId),e.setAttribute("data-category",s.Giscus.category),e.setAttribute("data-category-id",s.Giscus.categoryId),e.setAttribute("data-mapping",o.term?"specific":s.Giscus.mapping),o.term&&e.setAttribute("data-term",o.term),e.setAttribute("data-strict",s.Giscus.strict),e.setAttribute("data-reactions-enabled",s.Giscus.reactionsEnabled),e.setAttribute("data-emit-metadata",s.Giscus.emitMetadata),e.setAttribute("data-input-position",s.Giscus.inputPosition),e.setAttribute("data-theme",o.customTheme||s.Giscus.theme||"preferred_color_scheme"),e.setAttribute("data-lang",s.Giscus.lang),e.setAttribute("data-loading",s.Giscus.loading),e.crossOrigin="anonymous",e.async=!0,n.value&&n.value.appendChild(e))},f=t=>{var a,l;const r=(a=n.value)==null?void 0:a.querySelector("iframe.giscus-frame");if(r){const g={setConfig:{theme:t}};(l=r.contentWindow)==null||l.postMessage({giscus:g},"https://giscus.app")}};return v(()=>o.term,()=>{m()}),v(()=>o.customTheme,t=>{t&&f(t)}),x(()=>{m()}),A(()=>{e&&e.remove()}),b({reload:m,updateTheme:f}),(t,r)=>(d(),u("div",{class:y(["giscus-wrapper",C.value])},[c.showQuickReactions?(d(),u("div",S,[i("div",j,[i("span",q,p(c.componentType==="image"?"快速互动":"快速反应"),1),i("span",L,p(c.componentType==="image"?"点击表达你的感受":"一键表达你的想法"),1)]),i("div",R,[(d(!0),u(T,null,B(_.value,a=>(d(),u("button",{key:a.name,class:y(["reaction-btn",{active:a.active}]),onClick:l=>G(a),title:a.label},[i("div",{class:"reaction-icon",innerHTML:a.svg},null,8,I),i("span",E,p(a.label),1),a.count>0?(d(),u("span",Q,p(a.count),1)):k("",!0)],10,H))),128))])])):k("",!0),i("div",{ref_key:"giscusContainer",ref:n,class:"giscus-container"},null,512)],2))}},W=z(V,[["__scopeId","data-v-0ef330d7"]]);export{W as default};
